{"version":3,"sources":["webpack://flow-connect/webpack/universalModuleDefinition","webpack://flow-connect/./src/core/color.ts","webpack://flow-connect/./src/core/connector.ts","webpack://flow-connect/./src/core/flow.ts","webpack://flow-connect/./src/core/graph.ts","webpack://flow-connect/./src/core/group.ts","webpack://flow-connect/./src/core/hooks.ts","webpack://flow-connect/./src/core/index.ts","webpack://flow-connect/./src/core/interfaces.ts","webpack://flow-connect/./src/core/node.ts","webpack://flow-connect/./src/core/subflow-node.ts","webpack://flow-connect/./src/core/terminal.ts","webpack://flow-connect/./src/core/tunnel-node.ts","webpack://flow-connect/./src/flow-connect.ts","webpack://flow-connect/./src/math/constants.ts","webpack://flow-connect/./src/math/index.ts","webpack://flow-connect/./src/math/vector.ts","webpack://flow-connect/./src/resource/icons.ts","webpack://flow-connect/./src/ui/button.ts","webpack://flow-connect/./src/ui/container.ts","webpack://flow-connect/./src/ui/display.ts","webpack://flow-connect/./src/ui/horizontal-layout.ts","webpack://flow-connect/./src/ui/image.ts","webpack://flow-connect/./src/ui/index.ts","webpack://flow-connect/./src/ui/input.ts","webpack://flow-connect/./src/ui/label.ts","webpack://flow-connect/./src/ui/select.ts","webpack://flow-connect/./src/ui/slider.ts","webpack://flow-connect/./src/ui/source.ts","webpack://flow-connect/./src/ui/toggle.ts","webpack://flow-connect/./src/ui/ui-node.ts","webpack://flow-connect/./src/utils/binary-search-tree.ts","webpack://flow-connect/./src/utils/index.ts","webpack://flow-connect/./src/utils/logger.ts","webpack://flow-connect/./src/utils/utils.ts","webpack://flow-connect/webpack/bootstrap","webpack://flow-connect/webpack/startup"],"names":[],"mappings":"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","file":"flow-connect.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","import { getRandom, normalize } from \"../utils/utils\";\r\nimport { Serializable, SerializedColor } from \"./interfaces\";\r\n\r\nexport class Color implements Serializable {\r\n  hexValue: string;\r\n  rgbaValue: Uint8ClampedArray | number[];\r\n  rgbaString: string;\r\n  rgbaCSSString: string;\r\n\r\n  constructor(rgba: Uint8ClampedArray | number[]) {\r\n    this.rgbaValue = rgba;\r\n    this.hexValue = Color.rgbaToHex(this.rgbaValue);\r\n    this.rgbaString = Color.rgbaToString(this.rgbaValue);\r\n    this.rgbaCSSString = Color.rgbaToCSSString(this.rgbaValue);\r\n  }\r\n\r\n  static Random(): Color {\r\n    return new Color(new Uint8ClampedArray(\r\n      [Math.floor(getRandom(0, 255)), Math.floor(getRandom(0, 255)), Math.floor(getRandom(0, 255)), 255]\r\n    ));\r\n  }\r\n  static rgbaToHex(rgba: number[] | Uint8ClampedArray): string {\r\n    return \"#\" + Color._componentToHex(rgba[0]) + Color._componentToHex(rgba[1]) + Color._componentToHex(rgba[2]) + Color._componentToHex(rgba[3]);\r\n  }\r\n  static hexToRGBA(hex: string): Uint8ClampedArray {\r\n    return new Uint8ClampedArray([parseInt(hex.slice(1, 3), 16), parseInt(hex.slice(3, 5), 16), parseInt(hex.slice(5, 7), 16), parseInt(hex.slice(7, 9), 16)]);\r\n  }\r\n  static _componentToHex(c: number) {\r\n    let hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n  }\r\n  static rgbaToString(rgba: Uint8ClampedArray | number[]): string {\r\n    return `${rgba[0]}:${rgba[1]}:${rgba[2]}:${rgba[3]}`;\r\n  }\r\n  static rgbaToCSSString(rgba: Uint8ClampedArray | number[]): string {\r\n    return `rgba(${rgba[0]}, ${rgba[1]}, ${rgba[2]}, ${normalize(rgba[3], 0, 255).toFixed(3)})`;\r\n  }\r\n\r\n  serialize(): SerializedColor {\r\n    return {\r\n      rgba: [this.rgbaValue[0], this.rgbaValue[1], this.rgbaValue[2], this.rgbaValue[3]]\r\n    }\r\n  }\r\n  static deSerialize(data: SerializedColor) {\r\n    return new Color(data.rgba);\r\n  }\r\n}\r\n","import { Vector2 } from \"../math/vector\";\r\nimport { Constant, FlowState, GraphState, NodeState } from \"../math/constants\";\r\nimport { getNewGUID } from \"../utils/utils\";\r\nimport { Flow } from \"./flow\";\r\nimport { Terminal } from './terminal';\r\nimport { ConnectorStyle, Serializable, SerializedConnector } from \"./interfaces\";\r\nimport { Node } from \"./node\";\r\n\r\nexport class Connector implements Serializable {\r\n  start: Terminal;\r\n  end: Terminal;\r\n  startNode: Node;\r\n  endNode: Node;\r\n  _data: any;\r\n  get data(): any { return this._data; }\r\n  set data(data: any) {\r\n    this._data = data;\r\n    this.end && this.end.call('data', data);\r\n    if (this.flow.state === FlowState.Running && this.flow.executionGraph.state !== GraphState.FullRun) {\r\n      this.flow.executionGraph.setDirtyNode(this.endNode);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public flow: Flow,\r\n    start: Terminal,\r\n    end: Terminal,\r\n    public floatingTip: Vector2,\r\n    public style: ConnectorStyle = {},\r\n    public id: string = getNewGUID(),\r\n    isDeserialization: boolean = false\r\n  ) {\r\n\r\n    this.style = { ...Constant.DefaultConnectorStyle(), ...style };\r\n    this.start = start;\r\n    this.end = end;\r\n    if (this.start) this.startNode = this.start.node;\r\n    if (this.end) this.endNode = this.end.node;\r\n    if (start && end) {\r\n      this.floatingTip = null;\r\n      this.start.connectors.push(this);\r\n      this.end.connectors.push(this);\r\n\r\n      if (!isDeserialization) this.flow.executionGraph.connect(this.startNode, this.endNode);\r\n      this.start.call('connect', this.start, this);\r\n      this.end.call('connect', this.end, this);\r\n    };\r\n  }\r\n\r\n  completeConnection(destination: Terminal) {\r\n    if (!this.start) {\r\n      this.start = destination;\r\n      this.startNode = this.start.node;\r\n    } else {\r\n      this.end = destination;\r\n      this.endNode = this.end.node;\r\n    }\r\n\r\n    if (!this.start.connectors.includes(this)) this.start.connectors.push(this);\r\n    this.end.connectors[0] = this;\r\n    this.floatingTip = null;\r\n\r\n    this.startNode.currHitTerminal && this.startNode.currHitTerminal.onExit(null, null);\r\n    this.startNode.currHitTerminal = null;\r\n    this.endNode.currHitTerminal && this.endNode.currHitTerminal.onExit(null, null);\r\n    this.endNode.currHitTerminal = null;\r\n\r\n    this.flow.executionGraph.connect(this.startNode, this.endNode);\r\n    this.start.call('connect', this.start, this);\r\n    this.end.call('connect', this.end, this);\r\n  }\r\n  removeConnection() {\r\n    if (this.start) {\r\n      this.start.connectors.includes(this) && this.start.connectors.splice(this.start.connectors.indexOf(this), 1);\r\n      if (this.startNode.currHitTerminal) {\r\n        this.startNode.currHitTerminal.onExit(null, null);\r\n        this.startNode.currHitTerminal = null;\r\n      }\r\n    }\r\n    if (this.end) {\r\n      this.end.connectors.includes(this) && this.end.connectors.splice(this.end.connectors.indexOf(this), 1);\r\n      if (this.endNode.currHitTerminal) {\r\n        this.endNode.currHitTerminal.onExit(null, null);\r\n        this.endNode.currHitTerminal = null;\r\n      }\r\n    }\r\n  }\r\n  canConnect(destination: Terminal): boolean {\r\n    let source = !this.start ? this.end : this.start;\r\n\r\n    if (!destination) return false;\r\n    if (source === destination) return false;\r\n    if (source.node === destination.node) return false;\r\n    if (source.type === destination.type) return false;\r\n    if (!this.flow.rules[source.dataType].includes(destination.dataType)) return false;\r\n    if (!this.flow.executionGraph.canConnect(source.node, destination.node)) return false;\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    this.flow.flowConnect.context.save();\r\n    this._render();\r\n    this.flow.flowConnect.context.restore();\r\n\r\n    this.flow.flowConnect.offContext.save();\r\n    this._offRender();\r\n    this.flow.flowConnect.offContext.restore();\r\n  }\r\n  _render() {\r\n    let ax, ay, dx, dy;\r\n    if (this.start) {\r\n      if (this.startNode.renderState.nodeState === NodeState.MAXIMIZED)\r\n        [ax, ay] = [this.start.position.x, this.start.position.y];\r\n      else\r\n        [ax, ay] = [this.startNode.position.x + this.startNode.width + this.startNode.style.terminalStripMargin + this.start.style.radius, this.startNode.position.y + this.startNode.style.titleHeight / 2];\r\n    } else\r\n      [ax, ay] = [this.floatingTip.x, this.floatingTip.y];\r\n\r\n    if (this.end) {\r\n      if (this.endNode.renderState.nodeState === NodeState.MAXIMIZED)\r\n        [dx, dy] = [this.end.position.x, this.end.position.y];\r\n      else\r\n        [dx, dy] = [this.endNode.position.x - this.endNode.style.terminalStripMargin - this.end.style.radius, this.endNode.position.y + this.endNode.style.titleHeight / 2];\r\n    } else\r\n      [dx, dy] = [this.floatingTip.x, this.floatingTip.y];\r\n\r\n    let offset = Vector2.Distance(ax, ay, dx, dy);\r\n    offset *= .2;\r\n\r\n    let [bx, by] = [ax + offset, ay];\r\n    let [cx, cy] = [dx - offset, dy];\r\n    let [midx, midy] = [(bx + cx) / 2, (by + cy) / 2];\r\n\r\n    this.flow.flowConnect.context.beginPath();\r\n    this.flow.flowConnect.context.moveTo(ax, ay);\r\n    this.flow.flowConnect.context.quadraticCurveTo(bx, by, midx, midy);\r\n    this.flow.flowConnect.context.moveTo(midx, midy);\r\n    this.flow.flowConnect.context.quadraticCurveTo(cx, cy, dx, dy);\r\n    this.flow.flowConnect.context.strokeStyle = 'grey';\r\n    this.flow.flowConnect.context.lineWidth = this.style.width + 2;\r\n    this.flow.flowConnect.context.stroke();\r\n\r\n    this.flow.flowConnect.context.beginPath();\r\n    this.flow.flowConnect.context.moveTo(ax, ay);\r\n    this.flow.flowConnect.context.quadraticCurveTo(bx, by, midx, midy);\r\n    this.flow.flowConnect.context.moveTo(midx, midy);\r\n    this.flow.flowConnect.context.quadraticCurveTo(cx, cy, dx, dy);\r\n    this.flow.flowConnect.context.strokeStyle = this.style.color;\r\n    this.flow.flowConnect.context.lineWidth = this.style.width;\r\n    this.flow.flowConnect.context.stroke();\r\n  }\r\n  _offRender() { }\r\n\r\n  serialize(): SerializedConnector {\r\n    return {\r\n      id: this.id,\r\n      startId: this.start.id,\r\n      endId: this.end.id,\r\n      startNodeId: this.startNode.id,\r\n      endNodeId: this.endNode.id,\r\n      style: this.style\r\n    }\r\n  }\r\n  static deSerialize(flow: Flow, start: Terminal, end: Terminal, data: SerializedConnector): Connector {\r\n    return new Connector(flow, start, end, null, data.style, data.id, true);\r\n  }\r\n}\r\n","import { FlowConnect } from \"../flow-connect\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Node } from \"./node\";\r\nimport { Hooks } from './hooks';\r\nimport { Group } from './group';\r\nimport { Connector } from './connector';\r\nimport { BinarySearchTree } from \"../utils/binary-search-tree\";\r\nimport { NodeStyle, Serializable, SerializedFlow, TerminalStyle } from './interfaces';\r\nimport { SubFlowNode } from \"./subflow-node\";\r\nimport { TunnelNode } from \"./tunnel-node\";\r\nimport { getNewGUID } from \"../utils/utils\";\r\nimport { FlowState } from \"../math/constants\";\r\nimport { Graph } from \"./graph\";\r\n\r\nexport class Flow extends Hooks implements Serializable {\r\n  sortedNodes: BinarySearchTree<Node>;\r\n  nodes: { [id: string]: Node };\r\n  groups: Group[];\r\n  connectors: { [id: string]: Connector };\r\n  inputs: TunnelNode[];\r\n  outputs: TunnelNode[];\r\n  hitColorToNode: { [color: string]: Node };\r\n  hitColorToGroup: { [color: string]: Group };\r\n  listeners: { [eventKey: string]: number } = {};\r\n  state: FlowState = FlowState.Stopped;\r\n  executionGraph: Graph;\r\n\r\n  constructor(\r\n    public flowConnect: FlowConnect,\r\n    public name: string,\r\n    public rules: { [type: string]: string[] },\r\n    public terminalTypeColors: { [key: string]: string },\r\n    public id: string = getNewGUID()\r\n  ) {\r\n\r\n    super();\r\n    this.nodes = {};\r\n    this.groups = [];\r\n    this.connectors = {};\r\n    this.hitColorToNode = {};\r\n    this.hitColorToGroup = {};\r\n    this.sortedNodes = new BinarySearchTree((a: Node, b: Node) => (a.zIndex - b.zIndex), (node: Node) => node.id);\r\n    this.inputs = [];\r\n    this.outputs = [];\r\n    this.executionGraph = new Graph();\r\n\r\n    this.registerListeners();\r\n  }\r\n\r\n  registerListeners() {\r\n    let id = this.flowConnect.on('transform', () => this.call('transform', this));\r\n    this.listeners['transform'] = id;\r\n  }\r\n  deregisterListeners() {\r\n    this.flowConnect.off('transform', this.listeners['transform']);\r\n    delete this.listeners['transform'];\r\n  }\r\n  existsInFlow(flow: Flow): boolean {\r\n    for (let node of Object.values(this.nodes)) {\r\n      if ((node as SubFlowNode).subFlow === flow) return true;\r\n      else if ((node as SubFlowNode).subFlow) {\r\n        return (node as SubFlowNode).subFlow.existsInFlow(flow);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  addInput(name: string, dataType: string, position: Vector2): TunnelNode {\r\n    let flowInput = new TunnelNode(this, 'Input', position, 100, [], [{ name: name, dataType: dataType }], {}, {}, {});\r\n\r\n    this.inputs.push(flowInput);\r\n    this.nodes[flowInput.id] = flowInput;\r\n    this.sortedNodes.add(flowInput);\r\n    this.executionGraph.add(flowInput);\r\n\r\n    this.call('add-input', this, flowInput);\r\n    return flowInput;\r\n  }\r\n  addOutput(name: string, dataType: string, position: Vector2): TunnelNode {\r\n    let flowOutput = new TunnelNode(this, 'Output', position, 100, [{ name: name, dataType: dataType }], [], {}, {}, {});\r\n\r\n    this.outputs.push(flowOutput);\r\n    this.nodes[flowOutput.id] = flowOutput;\r\n    this.sortedNodes.add(flowOutput);\r\n    this.executionGraph.add(flowOutput);\r\n\r\n    this.call('add-output', this, flowOutput);\r\n    return flowOutput;\r\n  }\r\n  addSubFlow(flow: Flow, position: Vector2): SubFlowNode {\r\n    let subFlowNode = new SubFlowNode(\r\n      this,\r\n      flow.name,\r\n      position,\r\n      150,\r\n      {}, {}, {},\r\n      flow.inputs.map(inputNode => { return { name: inputNode.outputs[0].name, dataType: inputNode.outputs[0].dataType } }),\r\n      flow.outputs.map(outputNode => { return { name: outputNode.inputs[0].name, dataType: outputNode.inputs[0].dataType } }),\r\n      flow\r\n    );\r\n    this.nodes[subFlowNode.id] = subFlowNode;\r\n    this.sortedNodes.add(subFlowNode);\r\n    this.executionGraph.add(subFlowNode);\r\n    return subFlowNode;\r\n  }\r\n\r\n  createNode(name: string, position: Vector2, width: number, inputs?: any[], outputs?: any[], style: NodeStyle = {}, terminalStyle: TerminalStyle = {}, props?: { [key: string]: any }): Node {\r\n    let inTerminals: any[] = [], outTerminals: any[] = [];\r\n    if (typeof inputs !== 'undefined') inTerminals = inputs;\r\n    if (typeof outputs !== 'undefined') outTerminals = outputs;\r\n    let node = new Node(\r\n      this,\r\n      name,\r\n      position,\r\n      width,\r\n      inTerminals,\r\n      outTerminals,\r\n      style,\r\n      terminalStyle,\r\n      props\r\n    );\r\n\r\n    this.nodes[node.id] = node;\r\n    this.sortedNodes.add(node);\r\n    this.executionGraph.add(node);\r\n\r\n    return node;\r\n  }\r\n  removeNode(nodeOrID: Node | string) {\r\n    /*\r\n    if (nodeOrID instanceof Node) nodeOrID = nodeOrID.id;\r\n \r\n    let queue = [];\r\n    let currentNode;\r\n    queue.push(this.renderTree);\r\n \r\n    while ((currentNode = queue.shift())) {\r\n      if (currentNode.id == nodeOrID) {\r\n        currentNode.transform.parent.childs.splice(currentNode.transform.parent.childs.indexOf(currentNode.transform), 1);\r\n      } else {\r\n        currentNode.transform.childs.forEach((child) => {\r\n          queue.push(child.node);\r\n        });\r\n      }\r\n    }\r\n    */\r\n  }\r\n  removeConnector(id: string) {\r\n    if (this.connectors[id] === this.flowConnect.floatingConnector) this.flowConnect.floatingConnector = null;\r\n    delete this.connectors[id];\r\n  }\r\n  removeAllFocus() {\r\n    Object.values(this.nodes).forEach(node => node.focused = false);\r\n  }\r\n  render() {\r\n    this.groups.forEach(group => group.render());\r\n    Object.values(this.connectors).forEach(connector => connector.render());\r\n    this.sortedNodes.forEach(node => node.render());\r\n  }\r\n\r\n  start() {\r\n    if (this.state === FlowState.Running) return;\r\n\r\n    this.state = FlowState.Running;\r\n    this.call('start', this);\r\n    this.executionGraph.start();\r\n  }\r\n  stop() {\r\n    // what if GraphState is Running ?\r\n    this.state = FlowState.Stopped;\r\n    this.call('stop', this);\r\n    Object.values(this.nodes).forEach(node => {\r\n      if (node instanceof SubFlowNode) {\r\n        node.subFlow.stop();\r\n        // maybe stop in reverse execution sequence... ?\r\n      }\r\n    })\r\n  }\r\n\r\n  serialize(): SerializedFlow {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      rules: this.rules,\r\n      terminalTypeColors: this.terminalTypeColors,\r\n      nodes: Object.values(this.nodes).map(node => node.serialize()),\r\n      groups: this.groups.map(group => group.serialize()),\r\n      connectors: Object.values(this.connectors).map(connector => connector.serialize()),\r\n      inputs: this.inputs.map(input => input.serialize()),\r\n      outputs: this.outputs.map(output => output.serialize()),\r\n      executionGraph: this.executionGraph.serialize()\r\n    }\r\n  }\r\n  static deSerialize(flowConnect: FlowConnect, data: SerializedFlow): Flow {\r\n    let flow = new Flow(flowConnect, data.name, data.rules, data.terminalTypeColors, data.id);\r\n\r\n    data.nodes.forEach(serializedNode => {\r\n      let node;\r\n      if (serializedNode.subFlow) node = SubFlowNode.deSerialize(flow, serializedNode);\r\n      else node = Node.deSerialize(flow, serializedNode);\r\n      flow.nodes[node.id] = node;\r\n      flow.sortedNodes.add(node);\r\n    });\r\n\r\n    data.groups.forEach(serializedGroup => {\r\n      let group = Group.deSerialize(flow, serializedGroup);\r\n      flow.groups.push(group);\r\n      group.nodes.forEach(node => node.group = group);\r\n    });\r\n\r\n    data.inputs.forEach(serializedInput => {\r\n      let input = TunnelNode.deSerialize(flow, serializedInput);\r\n      flow.inputs.push(input);\r\n      flow.nodes[input.id] = input;\r\n      flow.sortedNodes.add(input);\r\n    });\r\n\r\n    data.outputs.forEach(serializedOutput => {\r\n      let output = TunnelNode.deSerialize(flow, serializedOutput);\r\n      flow.outputs.push(output);\r\n      flow.nodes[output.id] = output;\r\n      flow.sortedNodes.add(output);\r\n    });\r\n\r\n    data.connectors.forEach(serializedConnector => {\r\n      let startNode = flow.nodes[serializedConnector.startNodeId];\r\n      let startTerminal = startNode.outputs.concat(startNode.outputsUI).find(terminal => terminal.id === serializedConnector.startId);\r\n      let endNode = flow.nodes[serializedConnector.endNodeId];\r\n      let endTerminal = endNode.inputs.concat(endNode.inputsUI).find(terminal => terminal.id === serializedConnector.endId);\r\n      let connector = Connector.deSerialize(flow, startTerminal, endTerminal, serializedConnector);\r\n      flow.connectors[serializedConnector.id] = connector;\r\n    });\r\n\r\n    flow.executionGraph = Graph.deSerialize(flow, data.executionGraph);\r\n\r\n    return flow;\r\n  }\r\n}\r\n","import { GraphState } from \"../math/constants\";\r\nimport { getNewGUID } from \"../utils/utils\";\r\nimport { Flow } from \"./flow\";\r\nimport { Serializable, SerializedGraph, SerializedGraphNode } from \"./interfaces\";\r\nimport { Node } from \"./node\";\r\n\r\nexport class GraphNode implements Serializable {\r\n  id: string;\r\n  childs: GraphNode[] = [];\r\n  order: number;\r\n\r\n  constructor(public flowNode: Node, order?: number, id?: string) {\r\n    this.order = order ? order : 0;\r\n    this.id = id ? id : getNewGUID();\r\n  }\r\n\r\n  serialize(): SerializedGraphNode {\r\n    return {\r\n      id: this.id,\r\n      nodeId: this.flowNode.id,\r\n      order: this.order,\r\n      childs: this.childs.map(child => child.id)\r\n    };\r\n  }\r\n  static deSerialize(node: Node, data: SerializedGraphNode): GraphNode {\r\n    return new GraphNode(node, data.order, data.id);\r\n  }\r\n}\r\n\r\nexport class Graph implements Serializable {\r\n  state: GraphState = GraphState.Stopped;\r\n  nodes: GraphNode[][];\r\n  nodeToGraphNode: { [key: string]: GraphNode };\r\n  dirtyNodes: { [key: string]: GraphNode };\r\n\r\n  constructor() {\r\n    this.nodes = [];\r\n    this.nodeToGraphNode = {};\r\n    this.dirtyNodes = {};\r\n  }\r\n\r\n  add(data: Node) {\r\n    if (!this.nodes[0]) this.nodes.push([]);\r\n    let graphNode = new GraphNode(data);\r\n    this.nodes[0].push(graphNode);\r\n    this.nodeToGraphNode[data.id] = graphNode;\r\n  }\r\n  connect(sourceNode: Node, destinationNode: Node) {\r\n    let startGraphNode = this.nodeToGraphNode[sourceNode.id];\r\n    let endGraphNode = this.nodeToGraphNode[destinationNode.id];\r\n\r\n    if (!startGraphNode.childs.includes(endGraphNode)) {\r\n      startGraphNode.childs.push(endGraphNode);\r\n\r\n      if (endGraphNode.order <= startGraphNode.order) {\r\n        this.updateOrder(endGraphNode, startGraphNode.order + 1);\r\n        let queue: GraphNode[] = [];\r\n        queue.push(endGraphNode);\r\n        while (queue.length !== 0) {\r\n          let currNode = queue.shift();\r\n          currNode.childs.forEach(child => {\r\n            if (child.order <= currNode.order) {\r\n              this.updateOrder(child, currNode.order + 1);\r\n              if (!queue.includes(child)) queue.push(child);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  updateOrder(graphNode: GraphNode, order: number) {\r\n    this.nodes[graphNode.order].splice(this.nodes[graphNode.order].indexOf(graphNode), 1);\r\n    if (!this.nodes[order]) this.nodes[order] = [];\r\n    graphNode.order = order;\r\n    this.nodes[order].push(graphNode);\r\n  }\r\n  canConnect(sourceNode: Node, destinationNode: Node) {\r\n    if (this.nodeToGraphNode[destinationNode.id].childs.includes(this.nodeToGraphNode[sourceNode.id])) return false;\r\n    return true;\r\n  }\r\n\r\n  start() {\r\n    if (this.state !== GraphState.Stopped) return;\r\n\r\n    this.state = GraphState.FullRun;\r\n\r\n    this.nodes.forEach(groupedNodes => {\r\n      groupedNodes.forEach(graphNode => graphNode.flowNode.run());\r\n    });\r\n\r\n    this.state = GraphState.Idle;\r\n  }\r\n  stop() {\r\n    this.state = GraphState.Stopped;\r\n  }\r\n  async partialRun() {\r\n    let result = await new Promise<boolean>((resolve, reject) => {\r\n      try {\r\n        this.processDirtyNodes();\r\n        resolve(true);\r\n      } catch (error) {\r\n        console.log(error);\r\n        reject(false);\r\n      }\r\n    });\r\n\r\n    if (result && Object.keys(this.dirtyNodes).length > 0)\r\n      await this.partialRun();\r\n  }\r\n  setDirtyNode(node: Node | GraphNode) {\r\n    let graphNode = node instanceof Node ? this.nodeToGraphNode[node.id] : node;\r\n    if (!this.dirtyNodes[graphNode.id]) {\r\n      this.dirtyNodes[graphNode.id] = graphNode;\r\n\r\n      if (this.state === GraphState.Idle) {\r\n        this.state = GraphState.Running;\r\n\r\n        this.partialRun().then(() => (this.state = GraphState.Idle));\r\n      }\r\n    }\r\n  }\r\n  clearDirtyNode(node: Node | GraphNode) {\r\n    let graphNode = node instanceof Node ? this.nodeToGraphNode[node.id] : node;\r\n    if (this.dirtyNodes[graphNode.id]) delete this.dirtyNodes[graphNode.id];\r\n  }\r\n  processDirtyNodes() {\r\n    let dirtyNodes = Object.values(this.dirtyNodes).sort((a, b) => (a.order - b.order));\r\n    console.log([...dirtyNodes]);\r\n\r\n    let queue: GraphNode[] = dirtyNodes;\r\n    queue.forEach(graphNode => {\r\n      graphNode.flowNode.run();\r\n      this.clearDirtyNode(graphNode);\r\n    });\r\n  }\r\n\r\n  serialize(): SerializedGraph {\r\n    let nodeToGraphNode: { [key: string]: string } = {};\r\n    Object.keys(this.nodeToGraphNode).forEach(nodeId => nodeToGraphNode[nodeId] = this.nodeToGraphNode[nodeId].id);\r\n\r\n    return {\r\n      nodes: this.nodes.map(groupedNodes => groupedNodes.map(graphNode => graphNode.serialize())),\r\n      nodeToGraphNode: nodeToGraphNode\r\n    };\r\n  }\r\n  static deSerialize(flow: Flow, data: SerializedGraph): Graph {\r\n    let graph = new Graph();\r\n\r\n    let serializedGraphNodes: { [key: string]: SerializedGraphNode } = {};\r\n    let deSerializedGraphNodes: { [key: string]: GraphNode } = {};\r\n\r\n    data.nodes.forEach((serializedGroupedNodes, index) => {\r\n      graph.nodes[index] = serializedGroupedNodes.map(serializedGraphNode => {\r\n        let graphNode = GraphNode.deSerialize(flow.nodes[serializedGraphNode.nodeId], serializedGraphNode);\r\n        deSerializedGraphNodes[graphNode.id] = graphNode;\r\n        serializedGraphNodes[graphNode.id] = serializedGraphNode;\r\n        return graphNode;\r\n      });\r\n    });\r\n\r\n    Object.keys(deSerializedGraphNodes).forEach(key => {\r\n      deSerializedGraphNodes[key].childs = serializedGraphNodes[key].childs.map(childId => deSerializedGraphNodes[childId]);\r\n    });\r\n    Object.keys(data.nodeToGraphNode).forEach(nodeId => {\r\n      graph.nodeToGraphNode[nodeId] = deSerializedGraphNodes[data.nodeToGraphNode[nodeId]];\r\n    })\r\n\r\n    return graph;\r\n  }\r\n}\r\n","import { Vector2 } from \"../math/vector\";\r\nimport { Constant, ViewPort } from '../math/constants';\r\nimport { getNewGUID, intersects } from \"../utils/utils\";\r\nimport { Color } from \"./color\";\r\nimport { Flow } from './flow';\r\nimport { Hooks } from './hooks';\r\nimport { Node } from './node';\r\nimport { GroupStyle, Serializable, SerializedGroup } from \"./interfaces\";\r\n\r\nexport class Group extends Hooks implements Serializable {\r\n  nodes: Node[] = [];\r\n  nodeDeltas: Vector2[] = [];\r\n  textWidth: number;\r\n  textHeight: number;\r\n  _name: string;\r\n  get name(): string { return this._name; }\r\n  set name(name: string) {\r\n    if (!name || name.trim() === '') this._name = 'No Name';\r\n    else this._name = name;\r\n    this.computeTextMetrics();\r\n  }\r\n  renderState: ViewPort = ViewPort.INSIDE;\r\n  _position: Vector2;\r\n  get position(): Vector2 { return this._position; }\r\n  set position(position: Vector2) {\r\n    this._position = position;\r\n    this.updateRenderState();\r\n    this.recomputeNodePositions();\r\n  }\r\n\r\n  constructor(\r\n    public flow: Flow,\r\n    position: Vector2,\r\n    public width: number = 0, public height: number = 0,\r\n    name?: string,\r\n    public style: GroupStyle = {},\r\n    public id: string = getNewGUID(),\r\n    public hitColor?: Color\r\n  ) {\r\n\r\n    super();\r\n    this.style = { ...Constant.DefaultGroupStyle(), ...style };\r\n    this.id = getNewGUID();\r\n    this._position = position;\r\n    if (!this.style.color || !this.style.borderColor) {\r\n      let colors = Constant.DefaultGroupColors.Random();\r\n      this.style.borderColor = colors[0];\r\n      this.style.color = colors[1];\r\n    }\r\n    this.name = name;\r\n    this.setHitColor(hitColor);\r\n    this.computeTextMetrics();\r\n\r\n    this.flow.on('transform', () => this.updateRenderState());\r\n  }\r\n\r\n  setHitColor(hitColor: Color) {\r\n    if (!hitColor) {\r\n      hitColor = Color.Random();\r\n      while (this.flow.hitColorToGroup[hitColor.rgbaString]) hitColor = Color.Random();\r\n    }\r\n    this.hitColor = hitColor;\r\n    this.flow.hitColorToGroup[this.hitColor.rgbaString] = this;\r\n  }\r\n  computeTextMetrics() {\r\n    this.flow.flowConnect.context.font = this.style.fontSize + ' ' + this.style.font;\r\n    let metrics = this.flow.flowConnect.context.measureText(this.name);\r\n    this.textWidth = metrics.width;\r\n    metrics = this.flow.flowConnect.context.measureText('M');\r\n    this.flow.flowConnect.context.font = null;\r\n    this.textHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n\r\n    if (typeof this.textHeight === 'undefined') {\r\n      let d = document.createElement(\"span\");\r\n      d.textContent = \"M\";\r\n      d.style.font = this.style.fontSize + ' ' + this.style.font;\r\n      document.body.appendChild(d);\r\n      this.textHeight = d.offsetHeight;\r\n      document.body.removeChild(d);\r\n    }\r\n  }\r\n  updateRenderState() {\r\n    let realPos = this.position.transform(this.flow.flowConnect.transform);\r\n    this.renderState = intersects(\r\n      0, 0,\r\n      this.flow.flowConnect.canvasDimensions.width, this.flow.flowConnect.canvasDimensions.height,\r\n      realPos.x, realPos.y,\r\n      realPos.x + this.width * this.flow.flowConnect.scale,\r\n      realPos.y + this.height * this.flow.flowConnect.scale\r\n    );\r\n  }\r\n  setContainedNodes() {\r\n    let groupRealPos = this.position.transform(this.flow.flowConnect.transform);\r\n\r\n    this.nodes = Object.keys(this.flow.nodes)\r\n      .map(key => this.flow.nodes[key])\r\n      .filter(node => !node.group && node.renderState.viewport === ViewPort.INSIDE)\r\n      .filter(node => {\r\n        let nodeRealPos = node.position.transform(this.flow.flowConnect.transform);\r\n\r\n        return intersects(groupRealPos.x, groupRealPos.y,\r\n          groupRealPos.x + this.width * this.flow.flowConnect.scale,\r\n          groupRealPos.y + this.height * this.flow.flowConnect.scale,\r\n          nodeRealPos.x, nodeRealPos.y,\r\n          nodeRealPos.x + node.width * this.flow.flowConnect.scale,\r\n          nodeRealPos.y + node.ui.height * this.flow.flowConnect.scale\r\n        ) === ViewPort.INSIDE;\r\n      });\r\n\r\n    this.nodes.forEach((node, index) => {\r\n      node.group = this;\r\n      this.nodeDeltas[index] = node.position.subtract(this.position);\r\n    });\r\n  }\r\n  recomputeNodePositions() {\r\n    this.nodes.forEach((node, index) => {\r\n      node.position = this.position.add(this.nodeDeltas[index]);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.renderState === ViewPort.OUTSIDE) return;\r\n\r\n    this.flow.flowConnect.context.save();\r\n    this._render();\r\n    this.flow.flowConnect.context.restore();\r\n\r\n    this.flow.flowConnect.offGroupContext.save();\r\n    this._offRender();\r\n    this.flow.flowConnect.offGroupContext.restore();\r\n  }\r\n  _render() {\r\n    this.flow.flowConnect.context.strokeStyle = this.style.borderColor;\r\n    this.flow.flowConnect.context.lineWidth = 2;\r\n    this.flow.flowConnect.context.fillStyle = this.style.color;\r\n    this.flow.flowConnect.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.flow.flowConnect.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n\r\n    this.flow.flowConnect.context.fillStyle = this.style.titleColor;\r\n    this.flow.flowConnect.context.textBaseline = 'bottom';\r\n    this.flow.flowConnect.context.font = this.style.fontSize + ' ' + this.style.font;\r\n    this.flow.flowConnect.context.fillText(this.name, this.position.x, this.position.y - 10);\r\n  }\r\n  _offRender() {\r\n    this.flow.flowConnect.offGroupContext.fillStyle = this.hitColor.rgbaCSSString;\r\n    this.flow.flowConnect.offGroupContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.flow.flowConnect.offGroupContext.fillRect(this.position.x, this.position.y - this.textHeight - 10, this.textWidth, this.textHeight + 10);\r\n  }\r\n\r\n  onClick(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('click', this, screenPosition, realPosition);\r\n\r\n    let thisRealPosition = this.position.transform(this.flow.flowConnect.transform);\r\n    if (screenPosition.y < thisRealPosition.y) {\r\n      this.flow.flowConnect.showGenericInput(thisRealPosition.subtract(0, (10 + this.textHeight) * this.flow.flowConnect.scale), this.name, {\r\n        width: Math.max(this.textWidth, 50) * this.flow.flowConnect.scale + 'px',\r\n        height: this.textHeight * this.flow.flowConnect.scale + 'px',\r\n        fontSize: parseInt(this.style.fontSize.replace('px', '')) * this.flow.flowConnect.scale + 'px',\r\n        fontFamily: this.style.font\r\n      }, {\r\n        type: 'text'\r\n      }, (value) => {\r\n        this.name = value;\r\n      });\r\n    }\r\n  }\r\n\r\n  serialize(): SerializedGroup {\r\n    return {\r\n      id: this.id,\r\n      hitColor: this.hitColor.serialize(),\r\n      position: this.position.serialize(),\r\n      name: this.name,\r\n      width: this.width,\r\n      height: this.height,\r\n      style: this.style,\r\n      nodes: this.nodes.map(node => node.id),\r\n      nodeDeltas: this.nodeDeltas.map(nodeDelata => nodeDelata.serialize())\r\n    };\r\n  }\r\n  static deSerialize(flow: Flow, data: SerializedGroup): Group {\r\n    let group = new Group(flow, Vector2.deSerialize(data.position), data.width, data.height, data.name, data.style, data.id, Color.deSerialize(data.hitColor));\r\n    data.nodes.forEach(nodeId => {\r\n      group.nodes.push(flow.nodes[nodeId]);\r\n    });\r\n    data.nodeDeltas.forEach(serializedVector => {\r\n      group.nodeDeltas.push(Vector2.deSerialize(serializedVector));\r\n    });\r\n\r\n    return group;\r\n  }\r\n}\r\n","export class Hooks {\r\n  registeredEvents: { [key: string]: { [id: number]: (...args: any) => void } };\r\n  lastId: number;\r\n\r\n  constructor() {\r\n    this.registeredEvents = {};\r\n    this.lastId = 0;\r\n  }\r\n\r\n  on(eventKey: string, callback: (...args: any) => void): number {\r\n    if (!this.registeredEvents[eventKey]) this.registeredEvents[eventKey] = {};\r\n\r\n    let id = this.lastId;\r\n    this.registeredEvents[eventKey][id] = callback;\r\n    this.lastId += 1;\r\n    return id;\r\n  }\r\n  call(eventKey: string, ...args: any) {\r\n    if (this.registeredEvents[eventKey]) {\r\n      if (args) Object.values(this.registeredEvents[eventKey]).forEach(callback => callback(...args));\r\n      else Object.values(this.registeredEvents[eventKey]).forEach(callback => callback());\r\n    }\r\n  }\r\n  off(eventKey: string, id: number) {\r\n    delete this.registeredEvents[eventKey][id];\r\n  }\r\n}\r\n","export * from './color';\r\nexport * from './connector';\r\nexport * from './flow';\r\nexport * from './node';\r\nexport * from './terminal';\r\nexport * from './group';\r\nexport * from './interfaces';\r\nexport * from './hooks';\r\nexport * from './subflow-node';\r\nexport * from './tunnel-node';","import { Vector2 } from \"../math/vector\";\r\nimport { InputType, LOD, NodeState, TerminalType, UIType, ViewPort } from '../math/constants';\r\n\r\nexport interface Dimension {\r\n  left: number,\r\n  top: number,\r\n  width: number,\r\n  height: number\r\n};\r\nexport interface Pointer {\r\n  id: number,\r\n  screenPosition: Vector2,\r\n  realPosition: Vector2\r\n};\r\nexport interface Events {\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onExit(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void;\r\n  onContextMenu(): void;\r\n}\r\nexport interface RenderState {\r\n  viewport: ViewPort;\r\n  nodeState: NodeState\r\n  lod: LOD\r\n}\r\nexport interface Serializable {\r\n  serialize(): any;\r\n}\r\n\r\nexport interface FlowOptions {\r\n  name: string,\r\n  rules: { [type: string]: string[] },\r\n  terminalTypeColors: { [key: string]: string }\r\n}\r\n\r\nexport interface ConnectorStyle {\r\n  width?: number,\r\n  color?: string\r\n}\r\nexport interface GroupStyle {\r\n  color?: string;\r\n  borderColor?: string;\r\n  titleColor?: string;\r\n  fontSize?: string;\r\n  font?: string;\r\n}\r\nexport interface NodeStyle {\r\n  font?: string,\r\n  fontSize?: string,\r\n  titleFont?: string,\r\n  titleFontSize?: string,\r\n  padding?: number,\r\n  spacing?: number,\r\n  rowHeight?: number,\r\n  color?: string,\r\n  titleColor?: string,\r\n  titleHeight?: number,\r\n  terminalRowHeight?: number,\r\n  terminalStripMargin?: number,\r\n  maximizeButtonColor?: string,\r\n  expandButtonColor?: string;\r\n  nodeButtonSize?: number,\r\n  nodeButtonSpacing?: number,\r\n}\r\nexport interface TerminalStyle {\r\n  borderColor?: string,\r\n  shadowColor?: string,\r\n  shadowBlur?: number,\r\n  focusColor?: string,\r\n  radius?: number\r\n}\r\nexport interface ToggleStyle {\r\n  backgroundColor?: string,\r\n  color?: string\r\n}\r\nexport interface SourceStyle {\r\n  borderColor?: string,\r\n  font?: string,\r\n  fontSize?: string,\r\n  color?: string\r\n}\r\nexport interface SliderStyle {\r\n  railHeight?: number,\r\n  thumbRadius?: number,\r\n  color?: string,\r\n  thumbColor?: string\r\n}\r\nexport interface SelectStyle {\r\n  font?: string,\r\n  fontSize?: string,\r\n  color?: string,\r\n  arrowColor?: string\r\n}\r\nexport interface LabelStyle {\r\n  color?: string,\r\n  fontSize?: string,\r\n  font?: string,\r\n  align?: string\r\n}\r\nexport interface InputStyle {\r\n  backgroundColor?: string,\r\n  color?: string,\r\n  fontSize?: string,\r\n  font?: string,\r\n  border?: string,\r\n  type?: InputType,\r\n  align?: string\r\n}\r\nexport interface ButtonStyle {\r\n  backgroundColor?: string,\r\n  color?: string,\r\n  fontSize?: string,\r\n  font?: string,\r\n  padding?: number\r\n}\r\nexport interface ContainerStyle {\r\n  backgroundColor?: string,\r\n  shadowColor?: string,\r\n  shadowBlur?: number,\r\n  shadowOffset?: Vector2,\r\n  borderColor?: string,\r\n  borderWidth?: number\r\n}\r\nexport interface DisplayStyle {\r\n  borderColor?: string\r\n}\r\nexport interface HorizontalLayoutStyle {\r\n}\r\nexport interface ImageStyle {\r\n  align?: string\r\n}\r\n\r\nexport interface SerializedVector2 {\r\n  x: number, y: number\r\n}\r\nexport interface SerializedTerminal {\r\n  id: string;\r\n  hitColor: SerializedColor;\r\n  type: TerminalType;\r\n  dataType: string;\r\n  name: string;\r\n  style: TerminalStyle\r\n}\r\nexport interface SerializedNode {\r\n  hitColor: SerializedColor,\r\n  zIndex: number,\r\n  focused: boolean,\r\n  id: string,\r\n  position: SerializedVector2,\r\n  props: { [key: string]: any },\r\n  renderState: RenderState,\r\n  inputs: SerializedTerminal[],\r\n  outputs: SerializedTerminal[],\r\n  name: string,\r\n  style: NodeStyle,\r\n  terminalStyle: TerminalStyle,\r\n  ui: SerializedContainer,\r\n  width: number,\r\n  subFlow?: SerializedFlow\r\n}\r\nexport interface SerializedConnector {\r\n  startNodeId: string,\r\n  endNodeId: string,\r\n  startId: string,\r\n  endId: string,\r\n  id: string,\r\n  style: ConnectorStyle\r\n}\r\nexport interface SerializedFlow {\r\n  id: string,\r\n  name: string,\r\n  rules: { [type: string]: string[] },\r\n  terminalTypeColors: { [key: string]: string },\r\n  nodes: SerializedNode[],\r\n  groups: SerializedGroup[],\r\n  connectors: SerializedConnector[],\r\n  inputs: SerializedTunnelNode[],\r\n  outputs: SerializedTunnelNode[],\r\n  executionGraph: SerializedGraph\r\n}\r\nexport interface SerializedGroup {\r\n  position: SerializedVector2,\r\n  width: number,\r\n  height: number,\r\n  name: string,\r\n  style: GroupStyle,\r\n  id: string,\r\n  hitColor: SerializedColor,\r\n  nodes: string[],\r\n  nodeDeltas: SerializedVector2[]\r\n}\r\nexport interface SerializedTunnelNode extends SerializedNode {\r\n  proxyTerminalId: string\r\n}\r\nexport interface SerializedUINode {\r\n  id: string,\r\n  type: UIType\r\n  hitColor: SerializedColor,\r\n  style: any,\r\n  propName: string,\r\n  input: SerializedTerminal,\r\n  output: SerializedTerminal,\r\n  childs: any[]\r\n}\r\nexport interface SerializedContainer extends SerializedUINode {\r\n  width: number\r\n}\r\nexport interface SerializedButton extends SerializedUINode {\r\n  text: string,\r\n  height: number\r\n}\r\nexport interface SerializedDisplay extends SerializedUINode {\r\n  height: number\r\n}\r\nexport interface SerializedHorizontalLayout extends SerializedUINode {\r\n}\r\nexport interface SerializedImage extends SerializedUINode {\r\n  source: string\r\n}\r\nexport interface SerializedInput extends SerializedUINode {\r\n  value: string | number,\r\n  height: number\r\n}\r\nexport interface SerializedLabel extends SerializedUINode {\r\n  text: string,\r\n  height: number\r\n}\r\nexport interface SerializedSelect extends SerializedUINode {\r\n  options: string[],\r\n  height: number\r\n}\r\nexport interface SerializedSlider extends SerializedUINode {\r\n  min: number,\r\n  max: number,\r\n  value: number,\r\n  precision: number,\r\n  height: number\r\n}\r\nexport interface SerializedSource extends SerializedUINode {\r\n  accept: string,\r\n  height: number\r\n}\r\nexport interface SerializedToggle extends SerializedUINode {\r\n  checked: boolean,\r\n  height: number\r\n}\r\nexport interface SerializedColor {\r\n  rgba: number[]\r\n}\r\nexport interface SerializedGraph {\r\n  nodes: SerializedGraphNode[][],\r\n  nodeToGraphNode: { [key: string]: string }\r\n}\r\nexport interface SerializedGraphNode {\r\n  id: string,\r\n  nodeId: string,\r\n  order: number,\r\n  childs: string[]\r\n}","import { Vector2 } from \"../math/vector\";\r\nimport { ViewPort, NodeState, LOD, TerminalType, Align, Constant, FlowState } from '../math/constants';\r\nimport { Container, Label, Slider, UINode, Button, Image, HorizontalLayout, Toggle, Select, Source, Display, Input } from \"../ui/index\";\r\nimport { getNewGUID, intersects } from \"../utils/utils\";\r\nimport { Color } from \"./color\";\r\nimport { Flow } from './flow';\r\nimport { Group } from './group';\r\nimport { Terminal } from './terminal';\r\nimport { Hooks } from './hooks';\r\nimport { ButtonStyle, DisplayStyle, Events, HorizontalLayoutStyle, ImageStyle, InputStyle, LabelStyle, NodeStyle, RenderState, SelectStyle, Serializable, SerializedContainer, SerializedNode, SerializedTerminal, SliderStyle, SourceStyle, TerminalStyle, ToggleStyle } from \"./interfaces\";\r\n\r\nexport class NodeButton {\r\n  hitColor: Color;\r\n  deltaX: number = 0;\r\n\r\n  constructor(\r\n    public node: Node,\r\n    public callback: () => void,\r\n    public _render: (nodeButton: NodeButton, position: Vector2) => void,\r\n    public align: Align\r\n  ) {\r\n    this.setHitColor();\r\n  }\r\n\r\n  setHitColor() {\r\n    let color = Color.Random();\r\n    while (this.node.hitColorToNodeButton[color.rgbaString]) color = Color.Random();\r\n    this.hitColor = color;\r\n    this.node.hitColorToNodeButton[this.hitColor.rgbaString] = this;\r\n  }\r\n  render() {\r\n    this.node.context.save();\r\n    this._render(this, this.node.position.add(this.deltaX, this.node.style.titleHeight / 2 - this.node.style.nodeButtonSize / 2));\r\n    this.node.context.restore();\r\n\r\n    this.node.offUIContext.save();\r\n    this._offUIRender();\r\n    this.node.offUIContext.restore();\r\n  }\r\n  _offUIRender() {\r\n    this.node.offUIContext.fillStyle = this.hitColor.rgbaCSSString;\r\n    this.node.offUIContext.fillRect(\r\n      this.node.position.x + this.deltaX,\r\n      this.node.position.y + this.node.style.titleHeight / 2 - this.node.style.nodeButtonSize / 2,\r\n      this.node.style.nodeButtonSize,\r\n      this.node.style.nodeButtonSize\r\n    );\r\n  }\r\n}\r\n\r\nexport class Node extends Hooks implements Events, Serializable {\r\n  //#region Properties\r\n  _width: number;\r\n  context: CanvasRenderingContext2D;\r\n  offContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  offUIContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  hitColorToUI: { [key: string]: UINode };\r\n  hitColorToTerminal: { [key: string]: Terminal };\r\n  hitColorToNodeButton: { [key: string]: NodeButton };\r\n  private _zIndex: number;\r\n  focused: boolean = false;\r\n  inputs: Terminal[] = [];\r\n  outputs: Terminal[] = [];\r\n  inputsUI: Terminal[] = [];\r\n  outputsUI: Terminal[] = [];\r\n  ui: Container;\r\n  nodeButtons: NodeButton[] = [];\r\n  private _position: Vector2;\r\n  props: { [key: string]: any };\r\n  propObservers: { [key: string]: Array<(oldVal: any, newVal: any) => void> } = {};\r\n  renderState: RenderState = { viewport: ViewPort.INSIDE, nodeState: NodeState.MAXIMIZED, lod: LOD.LOD2 };\r\n  group: Group = null;\r\n\r\n  currHitTerminal: Terminal;\r\n  prevHitTerminal: Terminal;\r\n  currHitUINode: UINode;\r\n  prevHitUINode: UINode;\r\n  //#endregion\r\n\r\n  //#region Accessors\r\n  get position(): Vector2 {\r\n    return this._position;\r\n  }\r\n  set position(position: Vector2) {\r\n    this._position = position;\r\n    this.reflow();\r\n    this.ui.update();\r\n    this.updateRenderState();\r\n  }\r\n  get zIndex(): number {\r\n    return this._zIndex;\r\n  }\r\n  set zIndex(zIndex: number) {\r\n    this._zIndex = zIndex;\r\n    if (this.flow.sortedNodes.remove(this)) {\r\n      this.flow.sortedNodes.add(this);\r\n    }\r\n  }\r\n  get width(): number {\r\n    return this._width;\r\n  }\r\n  set width(width: number) {\r\n    this._width = width;\r\n    this.ui.width = width;\r\n    this.ui.update();\r\n  }\r\n  //#endregion\r\n\r\n  constructor(\r\n    public flow: Flow,\r\n    public name: string,\r\n    position: Vector2,\r\n    width: number,\r\n    inputs: SerializedTerminal[], outputs: SerializedTerminal[],\r\n    public style: NodeStyle = {},\r\n    public terminalStyle: TerminalStyle = {},\r\n    props: Object = {},\r\n    public id: string = getNewGUID(),\r\n    public hitColor?: Color,\r\n    ui?: Container | SerializedContainer\r\n  ) {\r\n\r\n    super();\r\n    this._width = width;\r\n    this.style = { ...Constant.DefaultNodeStyle(), ...style }\r\n    this._position = position;\r\n    this.setupProps(props);\r\n    this.hitColorToUI = {};\r\n    this.hitColorToTerminal = {};\r\n    this.hitColorToNodeButton = {};\r\n    this.zIndex = 0;\r\n    this.context = flow.flowConnect.context;\r\n    this.offContext = flow.flowConnect.offContext;\r\n    this.offUIContext = flow.flowConnect.offUIContext;\r\n    this.setHitColor(hitColor);\r\n    this.inputs.push(...inputs.map(input => new Terminal(this, TerminalType.IN, input.dataType, input.name, input.style ? input.style : { ...terminalStyle }, null, input.id ? input.id : null, input.hitColor ? Color.deSerialize(input.hitColor) : null)));\r\n    this.outputs.push(...outputs.map(output => new Terminal(this, TerminalType.OUT, output.dataType, output.name, output.style ? output.style : { ...terminalStyle }, null, output.id ? output.id : null, output.hitColor ? Color.deSerialize(output.hitColor) : null)));\r\n    this.ui = ui ? (ui instanceof Container ? ui : Container.deSerialize(this, ui)) : new Container(this, width);\r\n\r\n    this.addNodeButton(() => this.toggleNodeState(), (nodeButton: NodeButton, position: Vector2) => {\r\n      this.context.fillStyle = this.style.maximizeButtonColor;\r\n      this.context.fillRect(position.x, position.y, this.style.nodeButtonSize, this.style.nodeButtonSize);\r\n    }, Align.Left);\r\n\r\n    this.reflow();\r\n    this.ui.update();\r\n\r\n    this.flow.on('transform', () => this.updateRenderState());\r\n  }\r\n\r\n  //#region Methods\r\n  setupProps(props: { [key: string]: any }) {\r\n    let propsTarget: { [key: string]: any } = {};\r\n    this.props = new Proxy(propsTarget, {\r\n      set: (target, prop: string, value) => {\r\n        if (typeof target[prop] === 'undefined') {\r\n          this.propObservers[prop] = [];\r\n        }\r\n        let oldValue = target[prop];\r\n        target[prop] = value;\r\n        this.propObservers[prop].forEach(callback => callback(oldValue, value));\r\n\r\n        if (this.registeredEvents['propchange']) {\r\n          this.call('propchange', this, prop, oldValue, value);\r\n        }\r\n        return true;\r\n      }\r\n    });\r\n\r\n    Object.keys(props).forEach(key => {\r\n      this.props[key] = props[key];\r\n    });\r\n  }\r\n  addPropObserver(propName: string, callback: (oldVal: any, newVal: any) => void) {\r\n    if (typeof this.props[propName] !== 'undefined') {\r\n      this.propObservers[propName].push(callback);\r\n    }\r\n  }\r\n  removePropObserver(propName: string, callback: (oldVal: any, newVal: any) => void) {\r\n    if (this.propObservers[propName]) {\r\n      this.propObservers[propName].splice(this.propObservers[propName].indexOf(callback), 1);\r\n    }\r\n  }\r\n  setHitColor(hitColor: Color) {\r\n    if (!hitColor) {\r\n      hitColor = Color.Random();\r\n      while (this.flow.hitColorToNode[hitColor.rgbaString]) hitColor = Color.Random();\r\n    }\r\n    this.hitColor = hitColor;\r\n    this.flow.hitColorToNode[this.hitColor.rgbaString] = this;\r\n  }\r\n  addTerminal(terminal: Terminal | SerializedTerminal) {\r\n    if (!(terminal instanceof Terminal)) {\r\n      terminal = Terminal.deSerialize(this, terminal);\r\n    }\r\n    if (terminal.type === TerminalType.IN) this.inputs.push(terminal);\r\n    else this.outputs.push(terminal);\r\n    this.reflow();\r\n    this.ui.reflow();\r\n  }\r\n  addNodeButton(callback: () => void, render: (nodeButton: NodeButton, position: Vector2) => void, align: Align): NodeButton {\r\n    let newNodeButton = new NodeButton(this, callback, render, align);\r\n\r\n    let noOfButtons = this.nodeButtons.filter(nodeButton => nodeButton.align === newNodeButton.align).length;\r\n    let deltaX;\r\n    if (align === Align.Left) deltaX = noOfButtons * (this.style.nodeButtonSize + this.style.nodeButtonSpacing);\r\n    else deltaX = this.width - noOfButtons * (this.style.nodeButtonSize + this.style.nodeButtonSpacing) - this.style.nodeButtonSize;\r\n    newNodeButton.deltaX = deltaX;\r\n    this.nodeButtons.push(newNodeButton);\r\n\r\n    return newNodeButton;\r\n  }\r\n  dispose(): void {\r\n    this.flow.removeNode(this.id);\r\n  }\r\n  reflow(): void {\r\n    let y = this.position.y + this.style.terminalRowHeight / 2 + this.style.padding / 2 + this.style.titleHeight;\r\n    if (this.inputs.length > this.outputs.length) {\r\n      this.recalculateInputTerminals(y);\r\n      y = this.position.y + (this.inputs.length * this.style.terminalRowHeight) / 2 - (this.outputs.length * this.style.terminalRowHeight) / 2 + this.style.terminalRowHeight / 2 + this.style.padding / 2 + this.style.titleHeight;\r\n      this.recalculateOutputTerminals(y);\r\n    } else {\r\n      this.recalculateOutputTerminals(y);\r\n      y = this.position.y + (this.outputs.length * this.style.terminalRowHeight) / 2 - (this.inputs.length * this.style.terminalRowHeight) / 2 + this.style.terminalRowHeight / 2 + this.style.padding / 2 + this.style.titleHeight;\r\n      this.recalculateInputTerminals(y);\r\n    }\r\n  }\r\n  toggleNodeState() {\r\n    this.renderState.nodeState = this.renderState.nodeState === NodeState.MAXIMIZED ? NodeState.MINIMIZED : NodeState.MAXIMIZED;\r\n  }\r\n  updateRenderState() {\r\n    let realPos = this.position.transform(this.flow.flowConnect.transform);\r\n    this.renderState.viewport = intersects(\r\n      0, 0,\r\n      this.flow.flowConnect.canvasDimensions.width, this.flow.flowConnect.canvasDimensions.height,\r\n      realPos.x, realPos.y,\r\n      realPos.x + this.width * this.flow.flowConnect.scale,\r\n      realPos.y + (this.renderState.nodeState === NodeState.MAXIMIZED ? this.ui.height : this.style.titleHeight) * this.flow.flowConnect.scale\r\n    );\r\n\r\n    if (this.flow.flowConnect.scale > 0.6) this.renderState.lod = LOD.LOD2;\r\n    else if (this.flow.flowConnect.scale <= 0.6 && this.flow.flowConnect.scale > .3) this.renderState.lod = LOD.LOD1;\r\n    else this.renderState.lod = LOD.LOD0;\r\n\r\n    if (this.renderState.viewport === ViewPort.INTERSECT) {\r\n      this.ui.updateRenderState();\r\n    }\r\n  }\r\n  recalculateInputTerminals(y: number) {\r\n    this.inputs.forEach(terminal => {\r\n      terminal.position.x = this.position.x - this.style.terminalStripMargin - terminal.style.radius;\r\n      terminal.position.y = y;\r\n      y += this.style.terminalRowHeight;\r\n    });\r\n  }\r\n  recalculateOutputTerminals(y: number) {\r\n    this.outputs.forEach(terminal => {\r\n      terminal.position.x = this.position.x + this.ui.width + this.style.terminalStripMargin + terminal.style.radius;\r\n      terminal.position.y = y;\r\n      y += this.style.terminalRowHeight;\r\n    });\r\n  }\r\n  getHitTerminal(hitColor: string, screenPosition: Vector2, realPosition: Vector2) {\r\n    let hitTerminal = null;\r\n\r\n    realPosition = realPosition.transform(this.flow.flowConnect.transform);\r\n    let thisRealPosition = this.position.transform(this.flow.flowConnect.transform);\r\n    if (\r\n      (this.inputs.length + this.inputsUI.length > 0 && realPosition.x < thisRealPosition.x) ||\r\n      (this.outputs.length + this.outputsUI.length > 0 && realPosition.x > thisRealPosition.x + this.ui.width * this.flow.flowConnect.scale)\r\n    ) {\r\n      hitTerminal = this.hitColorToTerminal[hitColor];\r\n    }\r\n\r\n    if (this.currHitTerminal && this.currHitTerminal !== hitTerminal) {\r\n      this.currHitTerminal.onExit(screenPosition, realPosition);\r\n      hitTerminal && hitTerminal.onEnter(screenPosition, realPosition);\r\n    }\r\n\r\n    return hitTerminal;\r\n  }\r\n  getHitUINode(hitColor: string): UINode {\r\n    let uiNode = this.hitColorToUI[hitColor];\r\n    if (uiNode instanceof Container) return null;\r\n    return uiNode;\r\n  }\r\n  getHitNodeButton(hitColor: string): NodeButton {\r\n    return this.hitColorToNodeButton[hitColor];\r\n  }\r\n  getInput(terminal: string | number): any {\r\n    if (typeof terminal === 'string') {\r\n      let inputTerminal = this.inputs.find(currTerm => (currTerm.name === terminal));\r\n      if (inputTerminal) return (inputTerminal as any)['getData']();\r\n    } else {\r\n      if (this.inputs[terminal]) return (this.inputs[terminal] as any)['getData']();\r\n    }\r\n    return null;\r\n  }\r\n  setOutput(terminal: string | number, data: any) {\r\n    if (typeof terminal === 'string') {\r\n      let outputTerminal = this.outputs.find(currTerm => (currTerm.name === terminal));\r\n      if (outputTerminal) return (outputTerminal as any)['setData'](data);\r\n    } else {\r\n      if (this.outputs[terminal]) (this.outputs[terminal] as any)['setData'](data);\r\n    }\r\n  }\r\n  run() {\r\n    if (this.flow.state === FlowState.Stopped) return;\r\n\r\n    this.call('process', this, this.inputs.map(terminal => terminal.connectors.length > 0 ? terminal.connectors[0].data : null));\r\n  }\r\n\r\n  render(): void {\r\n    if (this.renderState.viewport === ViewPort.OUTSIDE) return;\r\n    if (this.renderState.nodeState === NodeState.MAXIMIZED) this.ui.render();\r\n\r\n    this.context.save();\r\n    this._render();\r\n    this.context.restore();\r\n\r\n    this.nodeButtons.forEach(nodeButton => nodeButton.render())\r\n\r\n    this.offContext.save();\r\n    this._offRender();\r\n    this.offContext.restore();\r\n  }\r\n  _render() {\r\n    if (this.renderState.nodeState === NodeState.MAXIMIZED) {\r\n      if (this.renderState.lod > 0) {\r\n        this.inputs.forEach(terminal => terminal.render());\r\n        this.outputs.forEach(terminal => terminal.render());\r\n      }\r\n    } else {\r\n      this.context.fillStyle = 'green';\r\n      if ((this.inputs.length + this.inputsUI.length) > 0) {\r\n        let radius = this.inputs.length > 0 ? this.inputs[0].style.radius : this.inputsUI[0].style.radius;\r\n        this.context.fillRect(this.position.x - this.style.terminalStripMargin - radius * 2, this.position.y + this.style.titleHeight / 2 - radius, radius * 2, radius * 2);\r\n      }\r\n      if ((this.outputs.length + this.outputsUI.length) > 0) {\r\n        let radius = this.outputs.length > 0 ? this.outputs[0].style.radius : this.outputsUI[0].style.radius;\r\n        this.context.fillRect(this.position.x + this.width + this.style.terminalStripMargin, this.position.y + this.style.titleHeight / 2 - radius, radius * 2, radius * 2);\r\n      }\r\n    }\r\n\r\n    this.context.fillStyle = this.style.titleColor;\r\n    this.context.font = this.style.titleFontSize + ' ' + this.style.titleFont;\r\n    this.context.textBaseline = 'middle';\r\n    this.context.fillText(this.name, this.position.x + this.ui.width / 2 - this.context.measureText(this.name).width / 2, this.position.y + this.style.titleHeight / 2);\r\n\r\n    if (this.renderState.nodeState === NodeState.MAXIMIZED) {\r\n      this.context.fillStyle = this.style.color;\r\n      this.context.font = this.style.fontSize + ' ' + this.style.font;\r\n      this.context.textBaseline = 'middle';\r\n      this.inputs.forEach(terminal => {\r\n        this.context.fillText(terminal.name, terminal.position.x + terminal.style.radius + this.style.terminalStripMargin + this.style.padding, terminal.position.y);\r\n      });\r\n      this.outputs.forEach(terminal => {\r\n        this.context.fillText(terminal.name, terminal.position.x - terminal.style.radius - this.style.terminalStripMargin - this.style.padding - this.context.measureText(terminal.name).width, terminal.position.y);\r\n      });\r\n    }\r\n\r\n    if (this.focused) {\r\n      this.context.strokeStyle = '#000';\r\n      this.context.lineWidth = 2;\r\n      let inputTerminalsWidth = this.inputs.length === 0 ? (this.inputsUI.length === 0 ? 0 : this.inputsUI[0].style.radius * 2) : this.inputs[0].style.radius * 2;\r\n      inputTerminalsWidth += this.style.terminalStripMargin * 2;\r\n      let outputTerminalsWidth = this.outputs.length === 0 ? (this.outputsUI.length === 0 ? 0 : this.outputsUI[0].style.radius * 2) : this.outputs[0].style.radius * 2;\r\n      outputTerminalsWidth += this.style.terminalStripMargin * 2;\r\n      this.context.strokeRoundRect(\r\n        this.position.x - inputTerminalsWidth,\r\n        this.position.y,\r\n        this.width + inputTerminalsWidth + outputTerminalsWidth,\r\n        this.renderState.nodeState === NodeState.MAXIMIZED ? (this.ui.height + this.style.padding) : this.style.titleHeight,\r\n        4\r\n      );\r\n    }\r\n  }\r\n  _offRender() {\r\n    this.offContext.fillStyle = this.hitColor.rgbaCSSString;\r\n    let x = this.position.x;\r\n    let y = this.position.y;\r\n    let inputTerminalsStripWidth = 0, outputTerminalsStripWidth = 0;\r\n    if ((this.inputs.length + this.inputsUI.length) !== 0) {\r\n      let radius = this.inputs.length > 0 ? this.inputs[0].style.radius : this.inputsUI[0].style.radius;\r\n      x -= this.style.terminalStripMargin + radius * 2;\r\n      inputTerminalsStripWidth = radius * 2 + this.style.terminalStripMargin;\r\n    }\r\n    if ((this.outputs.length + this.outputsUI.length) !== 0) {\r\n      let radius = this.outputs.length > 0 ? this.outputs[0].style.radius : this.outputsUI[0].style.radius;\r\n      outputTerminalsStripWidth = radius * 2 + this.style.terminalStripMargin;\r\n    }\r\n    this.offContext.fillRect(x, y,\r\n      this.ui.width + inputTerminalsStripWidth + outputTerminalsStripWidth,\r\n      this.renderState.nodeState === NodeState.MAXIMIZED ? this.ui.height : this.style.titleHeight\r\n    );\r\n  }\r\n  //#endregion\r\n\r\n  //#region Events\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n\r\n    let hitColor = Color.rgbaToString(this.flow.flowConnect.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data);\r\n\r\n    this.currHitUINode = this.getHitUINode(hitColor);\r\n    this.currHitUINode && this.currHitUINode.onDown(screenPosition, realPosition);\r\n\r\n    let hitTerminal = this.getHitTerminal(hitColor, screenPosition, realPosition);\r\n    if (hitTerminal) {\r\n      this.currHitTerminal = hitTerminal;\r\n      this.currHitTerminal.onDown(screenPosition, realPosition);\r\n    }\r\n  }\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n\r\n    let hitColor = Color.rgbaToString(this.flow.flowConnect.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data);\r\n\r\n    let hitTerminal = this.getHitTerminal(hitColor, screenPosition, realPosition);\r\n\r\n    if (hitTerminal !== this.prevHitTerminal) {\r\n      this.prevHitTerminal && this.prevHitTerminal.onExit(screenPosition, realPosition);\r\n      hitTerminal && hitTerminal.onEnter(screenPosition, realPosition);\r\n    } else {\r\n      hitTerminal && (!this.currHitTerminal) && hitTerminal.onOver(screenPosition, realPosition);\r\n    }\r\n    this.prevHitTerminal = hitTerminal;\r\n\r\n    let hitUINode = this.getHitUINode(hitColor);\r\n    if (hitUINode !== this.prevHitUINode) {\r\n      this.prevHitUINode && this.prevHitUINode.onExit(screenPosition, realPosition);\r\n      hitUINode && hitUINode.onEnter(screenPosition, realPosition);\r\n    } else {\r\n      hitUINode && (!this.currHitUINode) && hitUINode.onOver(screenPosition, realPosition);\r\n    }\r\n    this.prevHitUINode = hitUINode;\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n\r\n    let hitColor = Color.rgbaToString(this.flow.flowConnect.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data);\r\n\r\n    let hitTerminal = this.getHitTerminal(hitColor, screenPosition, realPosition);\r\n    hitTerminal && hitTerminal.onExit(screenPosition, realPosition);\r\n    this.prevHitTerminal && this.prevHitTerminal.onExit(screenPosition, realPosition);\r\n    this.prevHitTerminal = null;\r\n    this.currHitTerminal && this.currHitTerminal.onExit(screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n\r\n    let hitColor = Color.rgbaToString(this.flow.flowConnect.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data);\r\n\r\n    this.currHitUINode = null;\r\n    let hitUINode = this.getHitUINode(hitColor);\r\n    hitUINode && hitUINode.onUp(screenPosition.clone(), realPosition.clone());\r\n\r\n    let hitTerminal = this.getHitTerminal(hitColor, screenPosition, realPosition);\r\n    hitTerminal && hitTerminal.onUp(screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n\r\n    let hitColor = Color.rgbaToString(this.flow.flowConnect.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data);\r\n    if (realPosition.y < this.position.y + this.style.titleHeight * this.flow.flowConnect.scale) {\r\n      let hitNodeButton = this.getHitNodeButton(hitColor);\r\n      hitNodeButton && hitNodeButton.callback();\r\n    } else {\r\n      this.currHitTerminal && this.currHitTerminal.onClick(screenPosition, realPosition);\r\n\r\n      let hitUINode = this.getHitUINode(hitColor);\r\n      hitUINode && hitUINode.onClick(screenPosition.clone(), realPosition.clone());\r\n    }\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n\r\n    this.currHitUINode && this.currHitUINode.draggable && this.currHitUINode.onDrag(screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    this.call('rightclick', this);\r\n  }\r\n  //#endregion\r\n\r\n  //#region UICreators\r\n  createLabel(text: string, propName?: string, input?: boolean, output?: boolean, style?: LabelStyle): Label {\r\n    return new Label(this, text, propName, input, output, style);\r\n  }\r\n  createImage(source: string, propName?: string, style?: ImageStyle): Image {\r\n    return new Image(this, source, propName, style);\r\n  }\r\n  createSlider(min: number, max: number, value: number, precision?: number, propName?: string, input?: boolean, output?: boolean, height?: number, style?: SliderStyle) {\r\n    return new Slider(this, min, max, value, precision, propName, input, output, height, style);\r\n  }\r\n  createHozLayout(childs?: UINode[], style?: HorizontalLayoutStyle) {\r\n    return new HorizontalLayout(this, childs, style);\r\n  }\r\n  createButton(text: string, input?: boolean, output?: boolean, height?: number, style?: ButtonStyle) {\r\n    return new Button(this, text, input, output, height, style);\r\n  }\r\n  createToggle(propName?: string, input?: boolean, output?: boolean, height?: number, style?: ToggleStyle) {\r\n    return new Toggle(this, propName, input, output, height, style);\r\n  }\r\n  createSelect(options: string[], propName?: string, input?: boolean, output?: boolean, height?: number, style?: SelectStyle) {\r\n    return new Select(this, options, propName, input, output, height, style);\r\n  }\r\n  createSource(accept?: string, propName?: string, input?: boolean, output?: boolean, height?: number, style?: SourceStyle) {\r\n    return new Source(this, accept, propName, input, output, height, style);\r\n  }\r\n  createDisplay(height: number, render: (context: CanvasRenderingContext2D, width: number, height: number) => void, style?: DisplayStyle) {\r\n    return new Display(this, height, render, style);\r\n  }\r\n  createInput(value: string | number, propName?: string, input?: boolean, output?: boolean, height?: number, style?: InputStyle) {\r\n    return new Input(this, value, propName, input, output, height, style);\r\n  }\r\n  //#endregion\r\n\r\n  serialize(): SerializedNode {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      position: this.position.serialize(),\r\n      width: this.width,\r\n      props: this.props,\r\n      inputs: this.inputs.map(terminal => terminal.serialize()),\r\n      outputs: this.outputs.map(terminal => terminal.serialize()),\r\n      style: this.style,\r\n      terminalStyle: this.terminalStyle,\r\n      hitColor: this.hitColor.serialize(),\r\n      zIndex: this.zIndex,\r\n      focused: this.focused,\r\n      renderState: this.renderState,\r\n      ui: this.ui.serialize()\r\n    };\r\n  }\r\n  static deSerialize(flow: Flow, data: SerializedNode): Node {\r\n    return new Node(flow, data.name, Vector2.deSerialize(data.position), data.width, data.inputs, data.outputs, data.style, data.terminalStyle, data.props, data.id, Color.deSerialize(data.hitColor), data.ui);\r\n  }\r\n}\r\n","import { Align, FlowState, TerminalType } from '../math/constants';\r\nimport { Vector2 } from '../math/vector';\r\nimport { Color } from './color';\r\nimport { Flow } from './flow';\r\nimport { NodeStyle, SerializedNode, TerminalStyle } from './interfaces';\r\nimport { Node, NodeButton } from './node';\r\nimport { Terminal } from './terminal';\r\nimport { TunnelNode } from './tunnel-node';\r\n\r\nexport class SubFlowNode extends Node {\r\n\r\n  constructor(\r\n    flow: Flow,\r\n    name: string,\r\n    position: Vector2,\r\n    width: number,\r\n    style: NodeStyle = {}, terminalStyle: TerminalStyle = {},\r\n    props: Object = {},\r\n    inputs: any[], outputs: any[],\r\n    public subFlow: Flow,\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(flow, name, position, width, inputs ? inputs : [], outputs ? outputs : [], style, terminalStyle, props, id, hitColor);\r\n\r\n    this.subFlow.on('add-input', (subFlow, tunnel: TunnelNode) => {\r\n      let proxyTerminal = new Terminal(this, TerminalType.IN, tunnel.outputs[0].dataType, tunnel.outputs[0].name);\r\n      tunnel.proxyTerminal = proxyTerminal;\r\n      this.addTerminal(proxyTerminal);\r\n    });\r\n    this.subFlow.on('add-output', (subFlow, tunnel: TunnelNode) => {\r\n      let proxyTerminal = new Terminal(this, TerminalType.OUT, tunnel.inputs[0].dataType, tunnel.inputs[0].name);\r\n      tunnel.proxyTerminal = proxyTerminal;\r\n      this.addTerminal(proxyTerminal);\r\n    });\r\n\r\n    this.subFlow.inputs.forEach((inputNode, index) => inputNode.proxyTerminal = this.inputs[index]);\r\n    this.subFlow.outputs.forEach((outputNode, index) => outputNode.proxyTerminal = this.outputs[index]);\r\n\r\n    this.addNodeButton(() => {\r\n      this.flow.flowConnect.render(this.subFlow);\r\n    }, (nodeButton: NodeButton, position: Vector2) => {\r\n      this.context.strokeStyle = this.style.expandButtonColor;\r\n\r\n      this.context.beginPath();\r\n      this.context.moveTo(position.x, position.y + this.style.nodeButtonSize / 2);\r\n      this.context.lineTo(position.x, position.y + this.style.nodeButtonSize);\r\n      this.context.lineTo(position.x + this.style.nodeButtonSize, position.y);\r\n      this.context.lineTo(position.x + this.style.nodeButtonSize, position.y + this.style.nodeButtonSize / 2);\r\n      this.context.moveTo(position.x + this.style.nodeButtonSize, position.y);\r\n      this.context.lineTo(position.x + this.style.nodeButtonSize / 2, position.y);\r\n      this.context.moveTo(position.x, position.y + this.style.nodeButtonSize);\r\n      this.context.lineTo(position.x + this.style.nodeButtonSize / 2, position.y + this.style.nodeButtonSize);\r\n      this.context.closePath();\r\n\r\n      this.context.stroke();\r\n    }, Align.Right);\r\n  }\r\n\r\n  run() {\r\n    if (this.flow.state === FlowState.Stopped) return;\r\n\r\n    this.call('process', this);\r\n    this.subFlow.start();\r\n  }\r\n  serialize(): SerializedNode {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      position: this.position.serialize(),\r\n      width: this.width,\r\n      props: this.props,\r\n      inputs: this.inputs.map(terminal => terminal.serialize()),\r\n      outputs: this.outputs.map(terminal => terminal.serialize()),\r\n      style: this.style,\r\n      terminalStyle: this.terminalStyle,\r\n      hitColor: this.hitColor.serialize(),\r\n      zIndex: this.zIndex,\r\n      focused: this.focused,\r\n      renderState: this.renderState,\r\n      ui: this.ui.serialize(),\r\n      subFlow: this.subFlow.serialize()\r\n    };\r\n  }\r\n  static deSerialize(flow: Flow, data: SerializedNode): SubFlowNode {\r\n    let subFlow = Flow.deSerialize(flow.flowConnect, data.subFlow);\r\n    return new SubFlowNode(flow, data.name, Vector2.deSerialize(data.position), data.width, data.style, data.terminalStyle, data.props, data.inputs, data.outputs, subFlow, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Vector2 } from \"../math/vector\";\r\nimport { Constant, TerminalType } from '../math/constants';\r\nimport { getNewGUID } from \"../utils/utils\";\r\nimport { Color } from \"./color\";\r\nimport { Connector } from './connector';\r\nimport { Hooks } from './hooks';\r\nimport { Node } from './node';\r\nimport { Events, Serializable, SerializedTerminal, TerminalStyle } from \"./interfaces\";\r\n\r\nexport class Terminal extends Hooks implements Events, Serializable {\r\n  connectors: Connector[];\r\n  position: Vector2;\r\n  focus: boolean;\r\n\r\n  constructor(\r\n    public node: Node,\r\n    public type: TerminalType,\r\n    public dataType: string,\r\n    public name: string,\r\n    public style: TerminalStyle = {},\r\n    public eventCallback?: (...args: any) => void,\r\n    public id?: string,\r\n    public hitColor?: Color) {\r\n\r\n    super();\r\n    this.style = { ...Constant.DefaultTerminalStyle(), ...style };\r\n    this.id = id ? id : getNewGUID();\r\n    this.setHitColor(hitColor);\r\n    this.connectors = [];\r\n    this.position = Vector2.Zero();\r\n    this.focus = false;\r\n\r\n    if (this.type === TerminalType.IN) (this as any)['getData'] = () => {\r\n      if (this.connectors.length > 0) return this.connectors[0].data;\r\n      return null;\r\n    };\r\n    else (this as any)['setData'] = (data: any) => {\r\n      this.connectors.forEach(connector => connector.data = data);\r\n    };\r\n  }\r\n\r\n  setHitColor(hitColor: Color) {\r\n    if (!hitColor) {\r\n      hitColor = Color.Random();\r\n      while (this.node.hitColorToTerminal[hitColor.rgbaString] || this.node.hitColorToUI[hitColor.rgbaString]) hitColor = Color.Random();\r\n    }\r\n    this.hitColor = hitColor;\r\n    this.node.hitColorToTerminal[this.hitColor.rgbaString] = this;\r\n  }\r\n  render() {\r\n    this.node.context.save();\r\n\r\n    if (this.focus) {\r\n      this.node.context.beginPath();\r\n      this.node.context.arc(this.position.x, this.position.y, this.style.radius * 3, 0, 2 * Math.PI);\r\n      this.node.context.fillStyle = this.style.focusColor;\r\n      this.node.context.fill();\r\n    }\r\n\r\n    if (this.dataType === 'event') {\r\n      this.node.context.beginPath();\r\n      this.node.context.moveTo(this.position.x, this.position.y - this.style.radius * 1.3);\r\n      this.node.context.lineTo(this.position.x + this.style.radius * 1.3, this.position.y);\r\n      this.node.context.lineTo(this.position.x, this.position.y + this.style.radius * 1.3);\r\n      this.node.context.lineTo(this.position.x - this.style.radius * 1.3, this.position.y);\r\n      this.node.context.lineTo(this.position.x, this.position.y - this.style.radius * 1.3);\r\n      this.node.context.closePath();\r\n    } else {\r\n      this.node.context.beginPath();\r\n      this.node.context.arc(this.position.x, this.position.y, this.style.radius, 0, 2 * Math.PI);\r\n    }\r\n    this.node.context.fillStyle = this.focus ? '#00ff00' : (this.node.flow.terminalTypeColors[this.dataType] || '#888');\r\n    this.node.context.strokeStyle = this.style.borderColor;\r\n    this.node.context.shadowBlur = this.style.shadowBlur;\r\n    this.node.context.shadowColor = this.style.shadowColor;\r\n    this.node.context.fill();\r\n    this.node.context.stroke();\r\n\r\n    this.node.context.restore();\r\n\r\n    this.offUIRender();\r\n  }\r\n  offUIRender() {\r\n    this.node.offUIContext.save();\r\n\r\n    this.node.offUIContext.beginPath();\r\n    this.node.offUIContext.arc(this.position.x, this.position.y, this.style.radius + this.node.style.terminalStripMargin, 0, 2 * Math.PI);\r\n    this.node.offUIContext.fillStyle = this.hitColor.rgbaCSSString;\r\n    this.node.offUIContext.fill();\r\n\r\n    this.node.offUIContext.restore();\r\n  }\r\n\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n\r\n    this.focus = true;\r\n    this.node.flow.flowConnect.cursor = 'pointer';\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n\r\n    this.focus = false;\r\n    this.node.flow.flowConnect.cursor = 'unset';\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n\r\n    if (this.connectors.length > 0) {\r\n      if (this.type === TerminalType.IN) {\r\n        this.connectors[0].endNode.currHitTerminal = null;\r\n        this.connectors[0].end = null;\r\n        this.connectors[0].floatingTip = realPosition;\r\n        this.node.flow.flowConnect.floatingConnector = this.connectors[0];\r\n        this.connectors[0].start.call('disconnect', this.connectors[0].start, this.connectors[0]);\r\n        this.call('disconnect', this, this.connectors[0]);\r\n        this.connectors.pop();\r\n      } else {\r\n        if (this.node.flow.flowConnect.floatingConnector) return;\r\n        let connector = new Connector(this.node.flow, this, null, realPosition, {});\r\n        this.node.flow.connectors[connector.id] = connector;\r\n        this.node.flow.flowConnect.floatingConnector = connector;\r\n      }\r\n    } else {\r\n      if (this.node.flow.flowConnect.floatingConnector) return;\r\n      let connector = new Connector(this.node.flow, this.type === TerminalType.IN ? null : this, this.type === TerminalType.IN ? this : null, realPosition, {});\r\n      this.node.flow.connectors[connector.id] = connector;\r\n      this.node.flow.flowConnect.floatingConnector = connector;\r\n    }\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    this.call('rightclick', this);\r\n  }\r\n\r\n  onEvent(data: any): void {\r\n    if (this.type === TerminalType.IN && this.eventCallback) this.eventCallback(data);\r\n  }\r\n  emit(data: any) {\r\n    if (this.type === TerminalType.OUT && this.connectors.length !== 0) {\r\n      this.connectors.forEach(connector => {\r\n        connector.end && connector.end.onEvent(data);\r\n      });\r\n    }\r\n  }\r\n\r\n  serialize(): SerializedTerminal {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      dataType: this.dataType,\r\n      name: this.name,\r\n      style: this.style,\r\n      hitColor: this.hitColor.serialize()\r\n    };\r\n  }\r\n  static deSerialize(node: Node, data: SerializedTerminal): Terminal {\r\n    return new Terminal(node, data.type, data.dataType, data.name, data.style, null, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { FlowState } from \"../math/constants\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Color } from \"./color\";\r\nimport { Flow } from \"./flow\";\r\nimport { NodeStyle, SerializedTunnelNode, TerminalStyle } from \"./interfaces\";\r\nimport { Node } from \"./node\";\r\nimport { Terminal } from \"./terminal\";\r\n\r\nexport class TunnelNode extends Node {\r\n  _proxyTerminal: Terminal;\r\n  get proxyTerminal(): Terminal { return this._proxyTerminal; }\r\n  set proxyTerminal(terminal: Terminal) {\r\n    this._proxyTerminal = terminal;\r\n    this._proxyTerminal.on('data', data => {\r\n      (this.outputs[0] as any)['setData'](data);\r\n    });\r\n  }\r\n\r\n  constructor(\r\n    flow: Flow,\r\n    nodeName: string,\r\n    position: Vector2,\r\n    width: number,\r\n    inputs: any[], outputs: any[],\r\n    style: NodeStyle, terminalStyle: TerminalStyle,\r\n    props: Object,\r\n    id?: string,\r\n    hitColor?: Color,\r\n  ) {\r\n\r\n    super(flow, nodeName, position, width, inputs, outputs, style, terminalStyle, props, id, hitColor);\r\n\r\n    if (this.inputs.length > 0) {\r\n      this.inputs[0].on('data', data => {\r\n        (this.proxyTerminal as any)['setData'](data);\r\n      });\r\n    } else {\r\n      this.outputs[0].on('connect', (terminal, connector) => {\r\n        if (this.proxyTerminal.connectors.length > 0) {\r\n          connector.data = this.proxyTerminal.connectors[0].data;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  serialize(): SerializedTunnelNode {\r\n    return {\r\n      id: this.id,\r\n      name: this.name,\r\n      position: this.position.serialize(),\r\n      width: this.width,\r\n      props: this.props,\r\n      inputs: this.inputs.map(terminal => terminal.serialize()),\r\n      outputs: this.outputs.map(terminal => terminal.serialize()),\r\n      style: this.style,\r\n      terminalStyle: this.terminalStyle,\r\n      hitColor: this.hitColor.serialize(),\r\n      zIndex: this.zIndex,\r\n      focused: this.focused,\r\n      renderState: this.renderState,\r\n      ui: this.ui.serialize(),\r\n      proxyTerminalId: this.proxyTerminal.id\r\n    }\r\n  }\r\n  static deSerialize(flow: Flow, data: SerializedTunnelNode): TunnelNode {\r\n    return new TunnelNode(flow, data.name, Vector2.deSerialize(data.position), data.width, data.inputs, data.outputs, data.style, data.terminalStyle, data.props, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Connector, Flow, Group, Node, Color, Hooks } from \"./core/index\";\r\nimport { Vector2 } from \"./math/vector\";\r\nimport { Constant, TerminalType, ViewPort } from './math/constants';\r\nimport { Dimension, FlowOptions, Pointer, SerializedFlow } from \"./core/interfaces\";\r\nimport { intersects } from \"./utils/utils\";\r\n\r\nexport class FlowConnect extends Hooks {\r\n  canvasDimensions: Dimension = { top: 0, left: 0, width: 0, height: 0 };\r\n  canvasElement: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  offCanvasElement: OffscreenCanvas | HTMLCanvasElement;\r\n  offContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  offUICanvasElement: OffscreenCanvas | HTMLCanvasElement;\r\n  offUIContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  offGroupCanvasElement: OffscreenCanvas | HTMLCanvasElement;\r\n  offGroupContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  get cursor(): string { return this.canvasElement.style.cursor; }\r\n  set cursor(cursor: string) { this.canvasElement.style.cursor = cursor; }\r\n  frameId: number;\r\n\r\n  rootFlow: Flow;\r\n  currFlow: Flow;\r\n\r\n  floatingConnector: Connector;\r\n  currHitNode: Node;\r\n  prevHitNode: Node;\r\n  currHitGroup: Group;\r\n  currGroup: Group;\r\n  groupStartPoint: Vector2;\r\n  pointers: Pointer[] = [];\r\n  keymap: { [key: string]: boolean } = {};\r\n  touchControls: { [control: string]: boolean } = { 'CreateGroup': false };\r\n  minScale: number = 0.1;\r\n  maxScale: number = 5;\r\n  wheelScaleDelta: number = 1.05;\r\n  pinchScaleDelta: number = 1.02;\r\n  genericInput: HTMLInputElement = document.createElement('input');\r\n  get scale(): number { return this.transform.a; }\r\n  transform: DOMMatrix = new DOMMatrix();\r\n  inverseTransform: DOMMatrix = new DOMMatrix();\r\n  identity: DOMMatrix = new DOMMatrix();\r\n\r\n  constructor(mount?: HTMLCanvasElement | HTMLDivElement, width?: number, height?: number) {\r\n    super();\r\n    this.prepareCanvas(mount, width, height);\r\n    this.setupHitCanvas();\r\n    this.calculateCanvasDimension();\r\n    this.registerChangeListeners();\r\n    this.attachStyles();\r\n    this.polyfill();\r\n\r\n    this.registerEvents();\r\n    this.setGenericInput();\r\n  }\r\n\r\n  registerChangeListeners() {\r\n    let throttle = false;\r\n    document.addEventListener('scroll', () => {\r\n      if (!throttle) {\r\n        window.requestAnimationFrame(() => {\r\n          this.calculateCanvasDimension();\r\n          throttle = false;\r\n        });\r\n        throttle = true;\r\n      }\r\n    });\r\n\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      this.calculateCanvasDimension();\r\n    })\r\n    resizeObserver.observe(this.canvasElement);\r\n  }\r\n  prepareCanvas(mount?: HTMLCanvasElement | HTMLDivElement, width?: number, height?: number) {\r\n    if (!mount) {\r\n      this.canvasElement = document.createElement('canvas');\r\n      this.canvasElement.width = document.body.clientWidth;\r\n      this.canvasElement.height = document.body.clientHeight;\r\n      document.body.appendChild(this.canvasElement);\r\n    } else if (mount instanceof HTMLDivElement) {\r\n      this.canvasElement = document.createElement('canvas');\r\n      if (width && height) {\r\n        this.canvasElement.width = width;\r\n        this.canvasElement.height = height;\r\n      } else {\r\n        this.canvasElement.width = mount.clientWidth;\r\n        this.canvasElement.height = mount.clientHeight;\r\n      }\r\n      mount.appendChild(this.canvasElement);\r\n    } else {\r\n      this.canvasElement = mount;\r\n      if (width && height) {\r\n        this.canvasElement.width = width;\r\n        this.canvasElement.height = height;\r\n      }\r\n    }\r\n    this.context = this.canvasElement.getContext('2d');\r\n  }\r\n  setupHitCanvas() {\r\n    if (typeof OffscreenCanvas !== 'undefined' && typeof OffscreenCanvasRenderingContext2D !== 'undefined') {\r\n      this.offCanvasElement = new OffscreenCanvas(this.canvasDimensions.width, this.canvasDimensions.height);\r\n      this.offUICanvasElement = new OffscreenCanvas(this.canvasDimensions.width, this.canvasDimensions.height);\r\n      this.offGroupCanvasElement = new OffscreenCanvas(this.canvasDimensions.width, this.canvasDimensions.height);\r\n    } else {\r\n      this.offCanvasElement = document.createElement('canvas');\r\n      this.offUICanvasElement = document.createElement('canvas');\r\n      this.offGroupCanvasElement = document.createElement('canvas');\r\n    }\r\n    this.offContext = this.offCanvasElement.getContext('2d');\r\n    this.offUIContext = this.offUICanvasElement.getContext('2d');\r\n    this.offGroupContext = this.offGroupCanvasElement.getContext('2d');\r\n  }\r\n  attachStyles() {\r\n    this.canvasElement.style.touchAction = 'none';\r\n\r\n    let inputStyle = document.createElement('style');\r\n    inputStyle.innerHTML = 'input.flow-connect-input { position: fixed; visibility: hidden; pointer-events: none; z-index: 100; border: none; border-radius: 0; box-sizing: border-box;} input.flow-connect-input:focus { outline: none; }';\r\n    document.getElementsByTagName('head')[0].appendChild(inputStyle);\r\n  }\r\n  calculateCanvasDimension() {\r\n    let boundingRect = this.canvasElement.getBoundingClientRect();\r\n    this.canvasDimensions = {\r\n      top: Math.round(boundingRect.top - window.scrollY),\r\n      left: Math.round(boundingRect.left - window.scrollX),\r\n      width: Math.round(boundingRect.width),\r\n      height: Math.round(boundingRect.height)\r\n    }\r\n    this.offCanvasElement.width = this.canvasDimensions.width;\r\n    this.offCanvasElement.height = this.canvasDimensions.height;\r\n    this.offUICanvasElement.width = this.canvasDimensions.width;\r\n    this.offUICanvasElement.height = this.canvasDimensions.height;\r\n    this.offGroupCanvasElement.width = this.canvasDimensions.width;\r\n    this.offGroupCanvasElement.height = this.canvasDimensions.height;\r\n  }\r\n  polyfill() {\r\n    CanvasRenderingContext2D.prototype.roundRect = function (x: number, y: number, width: number, height: number, radius: number) {\r\n      this.beginPath();\r\n      this.moveTo(x + radius, y);\r\n      this.lineTo(x + width - radius, y);\r\n      this.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n      this.lineTo(x + width, y + height - radius);\r\n      this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n      this.lineTo(x + radius, y + height);\r\n      this.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n      this.lineTo(x, y + radius);\r\n      this.quadraticCurveTo(x, y, x + radius, y);\r\n      this.closePath();\r\n    }\r\n    CanvasRenderingContext2D.prototype.strokeRoundRect = function (x: number, y: number, width: number, height: number, radius: number) {\r\n      if (typeof radius === 'undefined') radius = 5;\r\n      this.roundRect(x, y, width, height, radius);\r\n      this.stroke();\r\n    }\r\n    CanvasRenderingContext2D.prototype.fillRoundRect = function (x: number, y: number, width: number, height: number, radius: number) {\r\n      if (typeof radius === 'undefined') radius = 5;\r\n      this.roundRect(x, y, width, height, radius);\r\n      this.fill();\r\n    }\r\n  }\r\n  createFlow(options: FlowOptions = { name: 'New Flow', rules: {}, terminalTypeColors: {} }): Flow {\r\n    Object.keys(Constant.DefaultRules).forEach(key => options.rules[key] = Constant.DefaultRules[key]);\r\n    return new Flow(this, options.name, options.rules, options.terminalTypeColors);\r\n  }\r\n\r\n  registerEvents(): void {\r\n    let dragDelta: Vector2;\r\n    let prevPanPosition: Vector2 = Vector2.Zero();\r\n    let prevPinchDistance: number = -1;\r\n\r\n    window.onkeydown = (ev: KeyboardEvent) => {\r\n      !this.keymap[ev.key] && (this.keymap[ev.key] = true);\r\n    }\r\n    window.onkeyup = (ev: KeyboardEvent) => {\r\n      this.keymap[ev.key] = false;\r\n    }\r\n\r\n    this.canvasElement.onpointerdown = (ev: PointerEvent) => {\r\n      if (!this.currFlow) return;\r\n\r\n      this.addPointer(ev.pointerId, this.getRelativePosition(ev));\r\n      if (this.pointers.length === 1) {\r\n        prevPanPosition = this.pointers[0].screenPosition;\r\n        this.currHitNode = this.getHitNode(this.pointers[0].screenPosition);\r\n        if (this.currHitNode) {\r\n          this.currHitNode.zIndex = Infinity;\r\n          if (this.keymap['Control']) {\r\n            this.currHitNode.focused = !this.currHitNode.focused;\r\n          } else {\r\n            this.currFlow.removeAllFocus();\r\n            this.currHitNode.focused = true;\r\n          }\r\n          this.currHitNode.onDown(this.pointers[0].screenPosition.clone(), this.pointers[0].realPosition.clone());\r\n          dragDelta = this.currHitNode.position.subtract(this.pointers[0].realPosition);\r\n        } else {\r\n          if (!this.keymap['Control']) {\r\n            this.currFlow.removeAllFocus();\r\n\r\n            this.currHitGroup = this.getHitGroup(this.pointers[0].screenPosition);\r\n            this.currHitGroup && (dragDelta = this.currHitGroup.position.subtract(this.pointers[0].realPosition));\r\n          }\r\n          else if (this.keymap['Control'] || this.touchControls['CreateGroup']) {\r\n            this.groupStartPoint = this.pointers[0].realPosition.clone();\r\n            this.currGroup = new Group(this.currFlow, this.groupStartPoint.clone(), 0, 0, 'New Group');\r\n          }\r\n        }\r\n      } else {\r\n        this.currHitNode = null;\r\n        this.currHitGroup = null;\r\n        this.currFlow.removeAllFocus();\r\n        if (this.floatingConnector) {\r\n          this.fallbackConnection();\r\n        }\r\n      }\r\n    }\r\n    this.canvasElement.onpointerup = (ev) => {\r\n      if (!this.currFlow) return;\r\n\r\n      this.removePointer(this.pointers, ev);\r\n\r\n      if (this.pointers.length < 2) prevPinchDistance = -1;\r\n\r\n      let screenPosition = this.getRelativePosition(ev);\r\n      let realPosition = screenPosition.transform(this.inverseTransform);\r\n\r\n      if (this.currHitNode) this.handleGrouping(screenPosition);\r\n\r\n      this.currHitNode = null;\r\n      this.currHitGroup = null;\r\n\r\n      let hitNode = this.getHitNode(screenPosition);\r\n      hitNode && hitNode.onUp(screenPosition.clone(), realPosition.clone());\r\n\r\n      if (this.currGroup) {\r\n        let newGroup = this.currGroup;\r\n        this.currGroup = null;\r\n        if (newGroup.width > 10 && newGroup.height > 10) {\r\n          this.currFlow.groups.push(newGroup);\r\n          newGroup.setContainedNodes();\r\n        }\r\n      }\r\n      if (this.floatingConnector) this.handleConnection(hitNode, screenPosition, realPosition);\r\n    }\r\n    this.canvasElement.onpointerout = (ev) => {\r\n      if (!this.currFlow) return;\r\n\r\n      this.removePointer(this.pointers, ev);\r\n      if (this.pointers.length === 0) {\r\n        if (this.currHitNode) {\r\n          let screenPosition = this.getRelativePosition(ev);\r\n          this.handleGrouping(screenPosition);\r\n        }\r\n        this.currHitNode = null;\r\n        this.currHitGroup = null;\r\n      }\r\n\r\n      if (this.currGroup) {\r\n        let newGroup = this.currGroup;\r\n        this.currGroup = null;\r\n        if (newGroup.width > 10 && newGroup.height > 10) {\r\n          this.currFlow.groups.push(newGroup);\r\n          newGroup.setContainedNodes();\r\n        }\r\n      }\r\n\r\n      if (this.floatingConnector) this.fallbackConnection();\r\n\r\n      if (this.prevHitNode) {\r\n        let screenPosition = this.getRelativePosition(ev);\r\n        let realPosition = screenPosition.transform(this.inverseTransform);\r\n        this.prevHitNode.onExit(screenPosition, realPosition);\r\n        this.prevHitNode = null;\r\n      }\r\n    }\r\n    this.canvasElement.onpointermove = (ev) => {\r\n      if (!this.currFlow) return;\r\n\r\n      let screenPosition = this.getRelativePosition(ev);\r\n      let realPosition = screenPosition.transform(this.inverseTransform);\r\n\r\n      this.updatePointer(ev.pointerId, screenPosition, realPosition);\r\n\r\n      if (this.pointers.length === 2) {\r\n        let currPinchDistance = Vector2.Distance(this.pointers[0].screenPosition, this.pointers[1].screenPosition);\r\n        if (prevPinchDistance > 0) {\r\n          if (currPinchDistance !== prevPinchDistance) {\r\n            this.handleZoom(currPinchDistance > prevPinchDistance, Vector2.Midpoint(this.pointers[0].screenPosition, this.pointers[1].screenPosition), this.pinchScaleDelta);\r\n          }\r\n        }\r\n        prevPinchDistance = currPinchDistance;\r\n      }\r\n\r\n      if (this.currGroup) {\r\n        if (realPosition.x < this.groupStartPoint.x) this.currGroup._position.x = realPosition.x;\r\n        this.currGroup.width = Math.abs(this.groupStartPoint.x - realPosition.x);\r\n\r\n        if (realPosition.y < this.groupStartPoint.y) this.currGroup._position.y = realPosition.y;\r\n        this.currGroup.height = Math.abs(this.groupStartPoint.y - realPosition.y);\r\n      }\r\n\r\n      if (this.currHitNode) {\r\n        this.currHitNode.onDrag(screenPosition.clone(), realPosition.clone());\r\n        if ((!this.currHitNode.currHitUINode || !this.currHitNode.currHitUINode.draggable) && !this.currHitNode.currHitTerminal && !this.floatingConnector) {\r\n          this.currHitNode.position = realPosition.add(dragDelta);\r\n\r\n          let hitGroup = this.getHitGroup(screenPosition);\r\n          if (hitGroup && hitGroup === this.currHitNode.group) {\r\n            let groupRealPos = hitGroup.position.transform(this.transform);\r\n            let nodeRealPos = this.currHitNode.position.transform(this.transform);\r\n\r\n            let intersection = intersects(groupRealPos.x, groupRealPos.y,\r\n              groupRealPos.x + hitGroup.width * this.scale,\r\n              groupRealPos.y + hitGroup.height * this.scale,\r\n              nodeRealPos.x, nodeRealPos.y,\r\n              nodeRealPos.x + this.currHitNode.width * this.scale,\r\n              nodeRealPos.y + this.currHitNode.ui.height * this.scale\r\n            );\r\n\r\n            if (intersection === ViewPort.INSIDE) {\r\n              let nodeIndex = hitGroup.nodes.findIndex(node => node.id === this.currHitNode.id);\r\n              hitGroup.nodeDeltas[nodeIndex] = this.currHitNode.position.subtract(hitGroup.position);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (this.currHitGroup) {\r\n          this.currHitGroup.position = realPosition.add(dragDelta);\r\n        } else if (this.pointers.length === 1 && !this.keymap['Control'] && !this.touchControls['CreateGroup']) {\r\n          let delta = screenPosition.subtract(prevPanPosition).multiplyInPlace(1 / this.scale);\r\n          prevPanPosition = screenPosition;\r\n          this.updateTransform(null, null, delta);\r\n        }\r\n      }\r\n      if (this.floatingConnector) this.floatingConnector.floatingTip = realPosition;\r\n\r\n      if (ev.pointerType === 'mouse' && !this.currHitNode) {\r\n        let hitNode = this.getHitNode(screenPosition);\r\n        if (hitNode !== this.prevHitNode) {\r\n          this.prevHitNode && this.prevHitNode.onExit(screenPosition, realPosition);\r\n          hitNode && hitNode.onEnter(screenPosition, realPosition);\r\n        } else {\r\n          hitNode && (!this.currHitNode) && hitNode.onOver(screenPosition, realPosition);\r\n        }\r\n        this.prevHitNode = hitNode;\r\n      }\r\n    }\r\n    this.canvasElement.onclick = (ev) => {\r\n      if (!this.currFlow) return;\r\n\r\n      let screenPosition = this.getRelativePosition(ev);\r\n      let realPosition = screenPosition.transform(this.inverseTransform);\r\n      let hitNode = this.getHitNode(screenPosition);\r\n      hitNode && hitNode.onClick(screenPosition.clone(), realPosition.clone());\r\n\r\n      if (!hitNode) {\r\n        let hitGroup = this.getHitGroup(screenPosition);\r\n        hitGroup && hitGroup.onClick(screenPosition.clone(), realPosition.clone());\r\n      }\r\n    };\r\n    this.canvasElement.oncontextmenu = (ev) => {\r\n      if (!this.currFlow) return;\r\n\r\n      ev.preventDefault();\r\n\r\n      let screenPosition = this.getRelativePosition(ev);\r\n      let hitNode = this.getHitNode(screenPosition);\r\n      hitNode && hitNode.onContextMenu();\r\n      if (!this.keymap['Control']) this.currFlow.removeAllFocus();\r\n      hitNode && (hitNode.focused = true);\r\n    }\r\n    this.canvasElement.onwheel = (ev: WheelEvent) => {\r\n      if (!this.currFlow) return;\r\n\r\n      this.handleZoom(ev.deltaY < 0, this.getRelativePosition(ev), this.wheelScaleDelta);\r\n    }\r\n  }\r\n  setGenericInput() {\r\n    this.genericInput.className = 'flow-connect-input';\r\n    this.genericInput.style.visibility = 'hidden';\r\n    this.genericInput.style.pointerEvents = 'none';\r\n    this.genericInput.style.padding = '0';\r\n\r\n    this.genericInput.onblur = () => {\r\n      this.genericInput.style.visibility = 'hidden';\r\n      this.genericInput.style.pointerEvents = 'none';\r\n\r\n      this.genericInput.onchange = null;\r\n    }\r\n\r\n    document.body.appendChild(this.genericInput);\r\n  }\r\n  showGenericInput(position: Vector2 | DOMPoint, value: string, styles: { [key: string]: any }, attributes: { [key: string]: any }, callback: (value: string) => void) {\r\n    if (document.activeElement === this.genericInput) return;\r\n\r\n    Object.keys(styles).forEach(key => (this.genericInput.style as any)[key] = styles[key]);\r\n    Object.keys(attributes).forEach(key => (this.genericInput as any)[key] = attributes[key]);\r\n\r\n    this.genericInput.style.left = (position.x + this.canvasDimensions.left) + 'px';\r\n    this.genericInput.style.top = (position.y + this.canvasDimensions.top - 3) + 'px';\r\n    this.genericInput.style.visibility = 'visible';\r\n    this.genericInput.style.pointerEvents = 'all';\r\n    this.genericInput.value = value;\r\n    this.genericInput.onchange = () => callback(this.genericInput.value);\r\n    this.genericInput.focus();\r\n  }\r\n  updatePointer(id: number, screenPosition: Vector2, realPosition: Vector2) {\r\n    let pointer = this.pointers.find(pointer => pointer.id === id);\r\n    if (pointer) {\r\n      pointer.screenPosition = screenPosition;\r\n      pointer.realPosition = realPosition;\r\n    }\r\n  }\r\n  handleZoom(zoomIn: boolean, origin: Vector2, scaleDelta: number) {\r\n    if ((this.transform.a >= this.maxScale && zoomIn) || (this.transform.a <= this.minScale && !zoomIn)) return;\r\n    this.updateTransform(zoomIn ? scaleDelta : (1 / scaleDelta), origin, null);\r\n  }\r\n  handleGrouping(screenPosition: Vector2) {\r\n    let hitGroup = this.getHitGroup(screenPosition);\r\n\r\n    let intersection;\r\n    if (hitGroup) {\r\n      let groupRealPos = hitGroup.position.transform(this.transform);\r\n      let nodeRealPos = this.currHitNode.position.transform(this.transform);\r\n\r\n      intersection = intersects(groupRealPos.x, groupRealPos.y,\r\n        groupRealPos.x + hitGroup.width * this.scale,\r\n        groupRealPos.y + hitGroup.height * this.scale,\r\n        nodeRealPos.x, nodeRealPos.y,\r\n        nodeRealPos.x + this.currHitNode.width * this.scale,\r\n        nodeRealPos.y + this.currHitNode.ui.height * this.scale\r\n      );\r\n    }\r\n\r\n    if (this.currHitNode.group) {\r\n      if (this.currHitNode.group !== hitGroup) {\r\n        let nodeIndex = this.currHitNode.group.nodes.findIndex(node => node.id === this.currHitNode.id);\r\n        this.currHitNode.group.nodes.splice(nodeIndex, 1);\r\n        this.currHitNode.group.nodeDeltas.splice(nodeIndex, 1);\r\n        this.currHitNode.group = null;\r\n      } else {\r\n        if (intersection !== ViewPort.INSIDE) {\r\n          let nodeIndex = this.currHitNode.group.nodes.findIndex(node => node.id === this.currHitNode.id);\r\n          this.currHitNode.group.nodes.splice(nodeIndex, 1);\r\n          this.currHitNode.group.nodeDeltas.splice(nodeIndex, 1);\r\n          this.currHitNode.group = null;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (hitGroup) {\r\n      if (intersection === ViewPort.INSIDE) {\r\n        this.currHitNode.group = hitGroup;\r\n        hitGroup.nodes.push(this.currHitNode);\r\n        hitGroup.nodeDeltas.push(this.currHitNode.position.subtract(hitGroup.position));\r\n      }\r\n    }\r\n  }\r\n  handleConnection(hitNode: Node, screenPosition: Vector2, realPosition: Vector2) {\r\n    if (!hitNode) {\r\n      this.fallbackConnection();\r\n      return;\r\n    }\r\n    let hitTerminal = hitNode.getHitTerminal(\r\n      Color.rgbaToString(this.offUIContext.getImageData(screenPosition.x, screenPosition.y, 1, 1).data),\r\n      screenPosition.clone(),\r\n      realPosition.clone()\r\n    );\r\n    if (hitTerminal) hitNode.currHitTerminal = hitTerminal;\r\n    if (!hitTerminal) {\r\n      this.fallbackConnection();\r\n      return;\r\n    }\r\n\r\n    let destination = hitNode.currHitTerminal;\r\n    if (!this.floatingConnector.canConnect(destination)) {\r\n      this.fallbackConnection();\r\n      hitNode.currHitTerminal = null;\r\n      return;\r\n    } else {\r\n      if (destination.type === TerminalType.OUT) {\r\n        this.floatingConnector.completeConnection(destination);\r\n        hitNode.currHitTerminal = null;\r\n      } else {\r\n        if (destination.connectors.length > 0) {\r\n          if (destination.connectors[0].start === this.floatingConnector.start) {\r\n            this.fallbackConnection();\r\n            hitNode.currHitTerminal = null;\r\n            return;\r\n          }\r\n          let index = destination.connectors[0].start.connectors.indexOf(destination.connectors[0]);\r\n          let [oldConnector] = destination.connectors[0].start.connectors.splice(index, 1);\r\n          delete this.currFlow.connectors[oldConnector.id];\r\n          oldConnector.start.call('disconnect', oldConnector.start, oldConnector);\r\n          oldConnector.end.call('disconnect', oldConnector.end, oldConnector);\r\n\r\n          this.floatingConnector.completeConnection(destination);\r\n          hitNode.currHitTerminal = null;\r\n        } else {\r\n          this.floatingConnector.completeConnection(destination);\r\n          hitNode.currHitTerminal = null;\r\n        }\r\n      }\r\n      this.floatingConnector = null;\r\n    }\r\n  }\r\n  getRelativePosition(ev: PointerEvent | WheelEvent | MouseEvent) {\r\n    return new Vector2(ev.clientX - this.canvasDimensions.left, ev.clientY - this.canvasDimensions.top);\r\n  }\r\n  updateTransform(scale: number, scaleOrigin: Vector2, translate: Vector2) {\r\n    if (scale) {\r\n      let realSpaceOrigin = scaleOrigin.transform(this.inverseTransform);\r\n      this.transform\r\n        .translateSelf(realSpaceOrigin.x, realSpaceOrigin.y)\r\n        .scaleSelf(scale, scale)\r\n        .translateSelf(-realSpaceOrigin.x, -realSpaceOrigin.y);\r\n    }\r\n    if (translate) {\r\n      this.transform.translateSelf(translate.x, translate.y);\r\n    }\r\n\r\n    this.inverseTransform = this.transform.inverse();\r\n\r\n    this.context.setTransform(this.transform);\r\n    this.offContext.setTransform(this.transform);\r\n    this.offUIContext.setTransform(this.transform);\r\n    this.offGroupContext.setTransform(this.transform);\r\n\r\n    this.call('transform', this);\r\n  }\r\n  fallbackConnection() {\r\n    this.floatingConnector.removeConnection();\r\n    this.currFlow.removeConnector(this.floatingConnector.id);\r\n  }\r\n  addPointer(pointerId: number, position: Vector2) {\r\n    this.pointers.push({\r\n      id: pointerId,\r\n      screenPosition: position,\r\n      realPosition: position.transform(this.inverseTransform)\r\n    });\r\n  }\r\n  removePointer(pointers: Pointer[], ev: PointerEvent) {\r\n    pointers.splice(pointers.findIndex(pointer => pointer.id === ev.pointerId), 1);\r\n  }\r\n  getHitNode(position: Vector2): Node {\r\n    let rgbaString = Color.rgbaToString(this.offContext.getImageData(position.x, position.y, 1, 1).data);\r\n    return this.currFlow.hitColorToNode[rgbaString];\r\n  }\r\n  getHitGroup(position: Vector2): Group {\r\n    let rgbaString = Color.rgbaToString(this.offGroupContext.getImageData(position.x, position.y, 1, 1).data);\r\n    return this.currFlow.hitColorToGroup[rgbaString];\r\n  }\r\n  clear() {\r\n    this.context.save();\r\n    this.context.setTransform(this.identity);\r\n    this.context.clearRect(0, 0, this.canvasDimensions.width, this.canvasDimensions.height);\r\n    this.context.restore();\r\n\r\n    this.offContext.save();\r\n    this.offContext.setTransform(this.identity);\r\n    this.offContext.clearRect(0, 0, this.canvasDimensions.width, this.canvasDimensions.height);\r\n    this.offContext.restore();\r\n\r\n    this.offUIContext.save();\r\n    this.offUIContext.setTransform(this.identity);\r\n    this.offUIContext.clearRect(0, 0, this.canvasDimensions.width, this.canvasDimensions.height);\r\n    this.offUIContext.restore();\r\n\r\n    this.offGroupContext.save();\r\n    this.offGroupContext.setTransform(this.identity);\r\n    this.offGroupContext.clearRect(0, 0, this.canvasDimensions.width, this.canvasDimensions.height);\r\n    this.offGroupContext.restore();\r\n  }\r\n\r\n  top() {\r\n    this.render(this.rootFlow);\r\n  }\r\n  render(flow: Flow) {\r\n    if (flow === this.currFlow) return;\r\n    if (this.currFlow) {\r\n      window.cancelAnimationFrame(this.frameId);\r\n      this.currFlow.deregisterListeners();\r\n    }\r\n    if (!this.rootFlow || !this.rootFlow.existsInFlow(flow)) {\r\n      this.rootFlow = flow;\r\n    }\r\n    this.currFlow = flow;\r\n    this._render();\r\n  }\r\n  _render() {\r\n    this.clear();\r\n\r\n    this.currGroup && this.currGroup.render();\r\n    this.currFlow.render();\r\n    this.call('update', this);\r\n\r\n    this.frameId = window.requestAnimationFrame(this._render.bind(this));\r\n  }\r\n\r\n  fromJson(json: string): Flow {\r\n    let data: SerializedFlow;\r\n    let flow: Flow = null;\r\n\r\n    try {\r\n      data = JSON.parse(json);\r\n      flow = Flow.deSerialize(this, data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    return flow;\r\n  }\r\n  toJson(flow: Flow): string {\r\n    let serializedFlow: SerializedFlow = flow.serialize();\r\n    try {\r\n      return JSON.stringify(serializedFlow, null);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport * from './core/index';\r\nexport * from './math/index';\r\nexport * from './ui/index';\r\nexport * from './utils/index';\r\n","import { Vector2 } from \"./vector\";\r\n\r\nexport class Constant {\r\n  static TAU = (Math.PI / 180);\r\n  static DefaultRules: { [type: string]: string[] } = { 'string': ['string'], 'number': ['number'], 'boolean': ['boolean'], 'file': ['file'], 'event': ['event'] };\r\n  static DefaultGroupColors = {\r\n    colors: [\r\n      ['rgba(239, 134, 119, 1)', 'rgba(239, 134, 119, .5)'],\r\n      ['rgba(160, 231, 125, 1)', 'rgba(160, 231, 125, .5)'],\r\n      ['rgba(130, 182, 217, 1)', 'rgba(130, 182, 217, .5)']\r\n    ],\r\n    RED: () => Constant.DefaultGroupColors.colors[0],\r\n    GREEN: () => Constant.DefaultGroupColors.colors[1],\r\n    BLUE: () => Constant.DefaultGroupColors.colors[2],\r\n    Random: () => Constant.DefaultGroupColors.colors[Math.floor(Math.random() * (Constant.DefaultGroupColors.colors.length - 1))]\r\n  };\r\n\r\n  static DefaultNodeStyle = () => {\r\n    return {\r\n      font: 'arial',\r\n      fontSize: '.75rem',\r\n      titleFont: 'arial',\r\n      titleFontSize: '.85rem',\r\n      color: '#000',\r\n      titleColor: '#000',\r\n      maximizeButtonColor: 'darkgrey',\r\n      nodeButtonSize: 10,\r\n      nodeButtonSpacing: 5,\r\n      expandButtonColor: '#000',\r\n      padding: 10,\r\n      spacing: 10,\r\n      rowHeight: 20,\r\n      titleHeight: 29,\r\n      terminalRowHeight: 24,\r\n      terminalStripMargin: 8\r\n    };\r\n  };\r\n  static DefaultConnectorStyle = () => {\r\n    return {\r\n      width: 5,\r\n      color: '#7fff00aa'\r\n    };\r\n  };\r\n  static DefaultGroupStyle = () => {\r\n    return {\r\n      titleColor: '#000',\r\n      fontSize: '16px',\r\n      font: 'arial'\r\n    };\r\n  };\r\n  static DefaultTerminalStyle = () => {\r\n    return {\r\n      radius: 4,\r\n      borderColor: '#222',\r\n      shadowBlur: 0,\r\n      shadowColor: '#ccc',\r\n      focusColor: '#bbbbbb80'\r\n    };\r\n  };\r\n  static DefaultButtonStyle = () => {\r\n    return {\r\n      backgroundColor: '#666',\r\n      padding: 5,\r\n      color: '#fff',\r\n      font: 'arial',\r\n      fontSize: '11px'\r\n    };\r\n  };\r\n  static DefaultContainerStyle = () => {\r\n    return {\r\n      backgroundColor: '#dddddd',\r\n      shadowColor: '#666',\r\n      shadowBlur: 3,\r\n      shadowOffset: new Vector2(3, 3),\r\n      borderWidth: 1,\r\n      borderColor: '#444'\r\n    };\r\n  };\r\n  static DefaultDisplayStyle = () => {\r\n    return {\r\n      borderColor: '#000'\r\n    };\r\n  };\r\n  static DefaultHorizontalLayoutStyle = () => {\r\n    return {};\r\n  };\r\n  static DefaultImageStyle = () => {\r\n    return {\r\n      align: 'left'\r\n    };\r\n  };\r\n  static DefaultInputStyle = () => {\r\n    return {\r\n      backgroundColor: '#eee',\r\n      color: '#000',\r\n      fontSize: '11px',\r\n      font: 'arial',\r\n      border: '1px solid black',\r\n      align: 'left',\r\n      type: InputType.Text\r\n    };\r\n  };\r\n  static DefaultLabelStyle = () => {\r\n    return {\r\n      color: '#000',\r\n      fontSize: '11px',\r\n      font: 'arial',\r\n      align: 'left'\r\n    };\r\n  };\r\n  static DefaultSelectStyle = () => {\r\n    return {\r\n      arrowColor: '#000'\r\n    };\r\n  };\r\n  static DefaultSliderStyle = (height: number) => {\r\n    return {\r\n      color: '#444',\r\n      thumbColor: '#000',\r\n      railHeight: 3,\r\n      thumbRadius: height / 2\r\n    }\r\n  }\r\n  static DefaultSourceStyle = () => {\r\n    return {\r\n      borderColor: '#000'\r\n    };\r\n  };\r\n  static DefaultToggleStyle = () => {\r\n    return {\r\n      backgroundColor: '#999',\r\n      color: '#000'\r\n    };\r\n  };\r\n}\r\n\r\nexport enum ViewPort {\r\n  INSIDE,\r\n  OUTSIDE,\r\n  INTERSECT\r\n}\r\nexport enum NodeState {\r\n  MAXIMIZED,\r\n  MINIMIZED\r\n}\r\nexport enum LOD {\r\n  LOD0,\r\n  LOD1,\r\n  LOD2\r\n}\r\nexport enum TerminalType {\r\n  IN = 1,\r\n  OUT = 2\r\n}\r\nexport enum InputType {\r\n  Text = \"text\",\r\n  Number = \"number\"\r\n}\r\nexport enum Align {\r\n  Left,\r\n  Right\r\n}\r\nexport enum UIType {\r\n  Button,\r\n  Container,\r\n  Display,\r\n  HorizontalLayout,\r\n  Image,\r\n  Input,\r\n  Label,\r\n  Select,\r\n  Slider,\r\n  Source,\r\n  Toggle\r\n}\r\nexport enum FlowState {\r\n  Running,\r\n  Stopped\r\n}\r\nexport enum GraphState {\r\n  Running,\r\n  FullRun,\r\n  Idle,\r\n  Stopped\r\n}","export * from './constants';\r\nexport * from './vector';","import { Serializable, SerializedVector2 } from '../core/interfaces';\r\nimport { Constant } from './constants';\r\n\r\nexport class Vector2 implements Serializable {\r\n  x: number;\r\n  y: number;\r\n  tmpX: number;\r\n  tmpY: number;\r\n\r\n  constructor(xOrDOMPoint: number | DOMPoint, y?: number) {\r\n    if (xOrDOMPoint instanceof DOMPoint)\r\n      [this.x, this.y] = [xOrDOMPoint.x, xOrDOMPoint.y];\r\n    else\r\n      [this.x, this.y] = [xOrDOMPoint, y];\r\n  }\r\n\r\n  toString() {\r\n    return '[' + this.x.toFixed(3) + ', ' + this.y.toFixed(3) + ']';\r\n  }\r\n  add(arg1: number | Vector2, arg2?: number): Vector2 {\r\n    if (arg1 instanceof Vector2) {\r\n      return new Vector2(this.x + arg1.x, this.y + arg1.y);\r\n    } else if (typeof arg2 === 'undefined') {\r\n      return new Vector2(this.x + arg1, this.y + arg1);\r\n    } else {\r\n      return new Vector2(this.x + arg1, this.y + arg2);\r\n    }\r\n  }\r\n  addInPlace(arg1: number | Vector2, arg2?: number): Vector2 {\r\n    if (arg1 instanceof Vector2) {\r\n      this.x += arg1.x;\r\n      this.y += arg1.y;\r\n    } else if (typeof arg2 === 'undefined') {\r\n      this.x += arg1;\r\n      this.y += arg1;\r\n    } else {\r\n      this.x += arg1;\r\n      this.y += arg2;\r\n    }\r\n    return this;\r\n  }\r\n  multiply(arg1: number | Vector2, arg2?: number): Vector2 {\r\n    if (arg1 instanceof Vector2) {\r\n      return new Vector2(this.x * arg1.x, this.y * arg1.y);\r\n    } else if (typeof arg2 === 'undefined') {\r\n      return new Vector2(this.x * arg1, this.y * arg1);\r\n    } else {\r\n      return new Vector2(this.x * arg1, this.y * arg2);\r\n    }\r\n  }\r\n  multiplyInPlace(arg1: number | Vector2, arg2?: number): Vector2 {\r\n    if (arg1 instanceof Vector2) {\r\n      this.x *= arg1.x;\r\n      this.y *= arg1.y;\r\n    } else if (typeof arg2 === 'undefined') {\r\n      this.x *= arg1;\r\n      this.y *= arg1;\r\n    } else {\r\n      this.x *= arg1;\r\n      this.y *= arg2;\r\n    }\r\n    return this;\r\n  }\r\n  subtract(arg1: number | Vector2, arg2?: number): Vector2 {\r\n    if (arg1 instanceof Vector2) {\r\n      return new Vector2(this.x - arg1.x, this.y - arg1.y);\r\n    } else if (typeof arg2 === 'undefined') {\r\n      return new Vector2(this.x - arg1, this.y - arg1);\r\n    } else {\r\n      return new Vector2(this.x - arg1, this.y - arg2);\r\n    }\r\n  }\r\n  subtractInPlace(arg1: number | Vector2, arg2?: number): void {\r\n    if (arg1 instanceof Vector2) {\r\n      this.x -= arg1.x;\r\n      this.y -= arg1.y;\r\n    } else if (typeof arg2 === 'undefined') {\r\n      this.x -= arg1;\r\n      this.y -= arg1;\r\n    } else {\r\n      this.x -= arg1;\r\n      this.y -= arg2;\r\n    }\r\n  }\r\n  rotate(pivot: Vector2, degrees: number): Vector2 {\r\n    degrees = degrees * Constant.TAU;\r\n    let cosT = Math.cos(degrees);\r\n    let sinT = Math.sin(degrees);\r\n    return new Vector2(\r\n      (cosT * (this.x - pivot.x)) - (sinT * (this.y - pivot.y)) + pivot.x,\r\n      (sinT * (this.x - pivot.x)) + (cosT * (this.y - pivot.y)) + pivot.y\r\n    );\r\n  }\r\n  rotateInPlace(pivot: Vector2, degrees: number): Vector2 {\r\n    degrees = degrees * Constant.TAU;\r\n    let cosT = Math.cos(degrees);\r\n    let sinT = Math.sin(degrees);\r\n    this.tmpX = (cosT * (this.x - pivot.x)) - (sinT * (this.y - pivot.y)) + pivot.x;\r\n    this.tmpY = (sinT * (this.x - pivot.x)) + (cosT * (this.y - pivot.y)) + pivot.y;\r\n    this.x = this.tmpX;\r\n    this.y = this.tmpY;\r\n    return this;\r\n  }\r\n  transform(transform: DOMMatrix): Vector2 {\r\n    return new Vector2(transform.transformPoint(this));\r\n  }\r\n  transformInPlace(transform: DOMMatrix) {\r\n    let transformedPoint = transform.transformPoint(this);\r\n    [this.x, this.y] = [transformedPoint.x, transformedPoint.y];\r\n  }\r\n  max() {\r\n    return Math.max(this.x, this.y);\r\n  }\r\n  clone(): Vector2 {\r\n    return new Vector2(this.x, this.y);\r\n  }\r\n  clamp(minX: number, maxX: number, minY: number, maxY: number): Vector2 {\r\n    if (this.x < minX) this.x = minX;\r\n    if (this.x > maxX) this.x = maxX;\r\n    if (this.y < minY) this.y = minY;\r\n    if (this.y > maxY) this.y = maxY;\r\n    return this;\r\n  }\r\n\r\n  static Midpoint(vector1: Vector2, vector2: Vector2): Vector2 {\r\n    return new Vector2((vector1.x + vector2.x) / 2, (vector1.y + vector2.y) / 2);\r\n  }\r\n  static Distance(vector1OrX1: Vector2 | number, vector2OrY1: Vector2 | number, x2?: number, y2?: number): number {\r\n    if (vector1OrX1 instanceof Vector2 && vector2OrY1 instanceof Vector2) {\r\n      return Math.sqrt(Math.pow(vector2OrY1.x - vector1OrX1.x, 2) + Math.pow(vector2OrY1.y - vector1OrX1.y, 2));\r\n    } else if (typeof vector1OrX1 === 'number' && typeof vector2OrY1 === 'number') {\r\n      return Math.sqrt(Math.pow(x2 - vector1OrX1, 2) + Math.pow(y2 - vector2OrY1, 2));\r\n    }\r\n  }\r\n  static Zero(): Vector2 {\r\n    return new Vector2(0, 0);\r\n  }\r\n  static One(): Vector2 {\r\n    return new Vector2(1, 1);\r\n  }\r\n  static Bounds(vectors: Vector2[]): Vector2[] {\r\n    let minVec = new Vector2(Number.MAX_VALUE, Number.MAX_VALUE);\r\n    let maxVec = new Vector2(Number.MIN_VALUE, Number.MIN_VALUE);\r\n\r\n    vectors.forEach((vector) => {\r\n      if (vector.x < minVec.x) minVec.x = vector.x;\r\n      if (vector.y < minVec.y) minVec.y = vector.y;\r\n      if (vector.x > maxVec.x) maxVec.x = vector.x;\r\n      if (vector.y > maxVec.y) maxVec.y = vector.y;\r\n    });\r\n    return [minVec, maxVec];\r\n  }\r\n  static Average(vectors: Vector2[]): Vector2 {\r\n    let sumX = 0;\r\n    let sumY = 0;\r\n    vectors.forEach((vector) => {\r\n      sumX += vector.x;\r\n      sumY += vector.y;\r\n    });\r\n    return new Vector2(sumX / vectors.length, sumY / vectors.length);\r\n  }\r\n  static Random(minX: number, maxX: number, minY: number, maxY: number): Vector2 {\r\n    return new Vector2(\r\n      Math.random() * (maxX - minX) + minX,\r\n      Math.random() * (maxY - minY) + minY\r\n    );\r\n  }\r\n  static Lerp(start: Vector2, end: Vector2, amount: number): Vector2 {\r\n    return new Vector2(\r\n      start.x + ((end.x - start.x) * amount),\r\n      start.y + ((end.y - start.y) * amount)\r\n    );\r\n  }\r\n\r\n  serialize(): SerializedVector2 {\r\n    return { x: this.x, y: this.y };\r\n  }\r\n  static deSerialize(data: SerializedVector2): Vector2 {\r\n    return new Vector2(data.x, data.y);\r\n  }\r\n}\r\n","export const fileIcon = \"data:image/svg+xml;charset=UTF-8,%3c?xml version='1.0' encoding='iso-8859-1'?%3e%3c!-- --%3e%3csvg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 477.867 477.867' style='enable-background:new 0 0 477.867 477.867;' xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath d='M324.267,119.467c-9.426,0-17.067-7.641-17.067-17.067V0H102.4C74.123,0,51.2,22.923,51.2,51.2v375.467 c0,28.277,22.923,51.2,51.2,51.2h273.067c28.277,0,51.2-22.923,51.2-51.2v-307.2H324.267z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpolygon points='341.333,10.001 341.333,85.333 416.666,85.333 '/%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e\";\r\n","import { Node } from \"../core/node\";\r\nimport { Terminal } from '../core/terminal';\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Constant, TerminalType, UIType } from '../math/constants';\r\nimport { Label } from \"./label\";\r\nimport { UINode } from './ui-node';\r\nimport { ButtonStyle, Serializable, SerializedButton, SerializedTerminal } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Button extends UINode implements Serializable {\r\n  label: Label;\r\n\r\n  constructor(\r\n    node: Node,\r\n    public text: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: ButtonStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Button, false, { ...Constant.DefaultButtonStyle(), ...style }, null,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'event', '', {}, () => this.call('click', this)) :\r\n          new Terminal(node, input.type, input.dataType, input.name, input.style, () => this.call('click', this), input.id, Color.deSerialize(input.hitColor))\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'event', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n    this.height = height ? height : (this.node.style.rowHeight + 2 * this.style.padding);\r\n\r\n    this.label = new Label(this.node, text, null, false, false, {\r\n      fontSize: this.style.fontSize,\r\n      font: this.style.font,\r\n      align: 'center',\r\n      color: this.style.color\r\n    }, this.height);\r\n    this.label.on('click', (_node: Node, position: Vector2) => this.call('click', this, position));\r\n\r\n    this.children.push(this.label);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.fillStyle = this.style.backgroundColor;\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = '#000';\r\n    this.paint();\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.label.position = this.position;\r\n    this.label.height = this.height;\r\n    this.label.width = this.width;\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange() { }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('rightclick', this);\r\n  }\r\n\r\n  serialize(): SerializedButton {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      height: this.height,\r\n      text: this.text,\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedButton): Button {\r\n    return new Button(node, data.text, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Color } from \"../core/color\";\r\nimport { ContainerStyle, Serializable, SerializedContainer } from \"../core/interfaces\";\r\nimport { Node } from \"../core/node\";\r\nimport { Constant, UIType } from \"../math/constants\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Button } from \"./button\";\r\nimport { Display } from \"./display\";\r\nimport { HorizontalLayout } from \"./horizontal-layout\";\r\nimport { Image } from './image';\r\nimport { Input } from \"./input\";\r\nimport { Label } from \"./label\";\r\nimport { Select } from \"./select\";\r\nimport { Slider } from \"./slider\";\r\nimport { Source } from \"./source\";\r\nimport { Toggle } from \"./toggle\";\r\nimport { UINode } from \"./ui-node\";\r\n\r\nexport class Container extends UINode implements Serializable {\r\n  contentWidth: number;\r\n\r\n  constructor(\r\n    node: Node,\r\n    width?: number,\r\n    style: ContainerStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, node.position, UIType.Container, false, { ...Constant.DefaultContainerStyle(), ...style }, null, null, null, id, hitColor);\r\n    this.width = typeof width !== 'undefined' ? width : 0;\r\n    this.height = this.node.style.padding * 2;\r\n    this.contentWidth = this.width - 2 * this.node.style.padding;\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.shadowColor = this.style.shadowColor;\r\n    this.context.shadowBlur = 3;\r\n    this.context.shadowOffsetX = this.style.shadowOffset.x;\r\n    this.context.shadowOffsetY = this.style.shadowOffset.y;\r\n    this.context.fillStyle = this.style.backgroundColor;\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.lineWidth = this.style.borderWidth;\r\n    this.context.roundRect(this.position.x, this.position.y + this.node.style.titleHeight, this.width, this.height - this.node.style.titleHeight, 5);\r\n    this.context.stroke();\r\n    this.context.fill();\r\n  }\r\n  paintLOD1() {\r\n    this.context.fillStyle = this.style.backgroundColor;\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.lineWidth = this.style.borderWidth;\r\n    this.context.roundRect(this.position.x, this.position.y + this.node.style.titleHeight, this.width, this.height - this.node.style.titleHeight, 5);\r\n    this.context.stroke();\r\n    this.context.fill();\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.position = this.node.position;\r\n    let terminalsDisplayHeight = Math.max(this.node.inputs.length, this.node.outputs.length) * this.node.style.terminalRowHeight + this.node.style.titleHeight;\r\n    let x = this.position.x + this.node.style.padding;\r\n    let y = this.position.y + terminalsDisplayHeight;\r\n    this.children.forEach(child => {\r\n      y += this.node.style.spacing;\r\n      child.width = this.width - this.node.style.padding * 2;\r\n      child.position = new Vector2(x, y);\r\n      y += child.height;\r\n    });\r\n    this.height = y + this.node.style.padding - this.position.y;\r\n  }\r\n\r\n  onPropChange() { }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void { }\r\n\r\n  serialize(): SerializedContainer {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      width: this.width,\r\n      style: {\r\n        backgroundColor: this.style.backgroundColor,\r\n        shadowColor: this.style.shadowColor,\r\n        shadowBlur: this.style.shadowBlur,\r\n        shadowOffset: this.style.shadowOffset.serialize(),\r\n        borderWidth: this.style.borderWidth,\r\n        borderColor: this.style.borderColor\r\n      },\r\n      childs: this.children.map(child => (child as any).serialize())\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedContainer): Container {\r\n    let uiContainer = new Container(node, data.width, data.style, data.id, Color.deSerialize(data.hitColor));\r\n    uiContainer.children.push(...data.childs.map(serializedChild => {\r\n      switch (serializedChild.type) {\r\n        case UIType.Button: return Button.deSerialize(node, serializedChild);\r\n        case UIType.Container: return Container.deSerialize(node, serializedChild);\r\n        case UIType.Display: return Display.deSerialize(node, serializedChild);\r\n        case UIType.HorizontalLayout: return HorizontalLayout.deSerialize(node, serializedChild);\r\n        case UIType.Image: return Image.deSerialize(node, serializedChild);\r\n        case UIType.Input: return Input.deSerialize(node, serializedChild);\r\n        case UIType.Label: return Label.deSerialize(node, serializedChild);\r\n        case UIType.Select: return Select.deSerialize(node, serializedChild);\r\n        case UIType.Slider: return Slider.deSerialize(node, serializedChild);\r\n        case UIType.Source: return Source.deSerialize(node, serializedChild);\r\n        case UIType.Toggle: return Toggle.deSerialize(node, serializedChild);\r\n        default: return;\r\n      }\r\n    }));\r\n    return uiContainer;\r\n  }\r\n}\r\n","import { Color } from \"../core/color\";\r\nimport { DisplayStyle, Serializable, SerializedDisplay } from \"../core/interfaces\";\r\nimport { Node } from \"../core/node\";\r\nimport { Constant, UIType } from \"../math/constants\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { UINode } from \"./ui-node\";\r\n\r\nexport class Display extends UINode implements Serializable {\r\n  customRender: (context: CanvasRenderingContext2D, width: number, height: number) => void;\r\n\r\n  constructor(\r\n    node: Node,\r\n    height: number,\r\n    render: (context: CanvasRenderingContext2D, width: number, height: number) => void,\r\n    style: DisplayStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Display, false, { ...Constant.DefaultDisplayStyle(), ...style }, null, null, null, id, hitColor);\r\n    this.customRender = render;\r\n    this.height = height;\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.lineWidth = 1;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.strokeStyle = null;\r\n    this.context.translate(this.position.x, this.position.y);\r\n    this.customRender(this.context, this.width, this.height);\r\n    this.context.resetTransform();\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillStyle = 'lightgrey';\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void { }\r\n\r\n  onPropChange() { }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    this.call('rightclick', this);\r\n  }\r\n\r\n  serialize(): SerializedDisplay {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      height: this.height,\r\n      childs: []\r\n    };\r\n  }\r\n  static deSerialize(node: Node, data: SerializedDisplay): Display {\r\n    return new Display(node, data.height, null, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Color } from \"../core/color\";\r\nimport { HorizontalLayoutStyle, Serializable, SerializedHorizontalLayout } from \"../core/interfaces\";\r\nimport { Node } from \"../core/node\";\r\nimport { Constant, UIType } from \"../math/constants\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Button } from \"./button\";\r\nimport { Container } from \"./container\";\r\nimport { Display } from \"./display\";\r\nimport { Image } from './image';\r\nimport { Input } from \"./input\";\r\nimport { Label } from \"./label\";\r\nimport { Select } from \"./select\";\r\nimport { Slider } from \"./slider\";\r\nimport { Source } from \"./source\";\r\nimport { Toggle } from \"./toggle\";\r\nimport { UINode } from \"./ui-node\";\r\n\r\nexport class HorizontalLayout extends UINode implements Serializable {\r\n\r\n  constructor(\r\n    node: Node,\r\n    childs?: UINode[],\r\n    style: HorizontalLayoutStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.HorizontalLayout, false, { ...Constant.DefaultHorizontalLayoutStyle(), ...style }, null, null, null, id, hitColor);\r\n    if (childs) this.children.push(...childs);\r\n  }\r\n\r\n  paint(): void { }\r\n  paintLOD1() { }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    let availableWidth = this.width;\r\n    let x = this.position.x;\r\n    let maxHeight = 0;\r\n    this.children.forEach(child => {\r\n      maxHeight = Math.max(maxHeight, child.height);\r\n    });\r\n    this.height = maxHeight;\r\n\r\n    this.children.forEach(child => {\r\n      let childWidth = child.style.grow ? child.style.grow * this.width : (1 / this.children.length) * this.width;\r\n      if (childWidth > availableWidth) childWidth = availableWidth;\r\n      child.width = childWidth;\r\n\r\n      if (child.height < this.height) child.height = this.height;\r\n      child.position = new Vector2(x, this.position.y);\r\n\r\n      availableWidth -= childWidth;\r\n      x += childWidth;\r\n    });\r\n  }\r\n\r\n  onPropChange() { }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void { }\r\n\r\n  serialize(): SerializedHorizontalLayout {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      style: this.style,\r\n      childs: this.children.map(child => (child as any).serialize())\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedHorizontalLayout): HorizontalLayout {\r\n    let hozLayout = new HorizontalLayout(node, [], data.style, data.id, Color.deSerialize(data.hitColor));\r\n    hozLayout.children.push(...data.childs.map(serializedChild => {\r\n      switch (serializedChild.type) {\r\n        case UIType.Button: return Button.deSerialize(node, serializedChild);\r\n        case UIType.Container: return Container.deSerialize(node, serializedChild);\r\n        case UIType.Display: return Display.deSerialize(node, serializedChild);\r\n        case UIType.HorizontalLayout: return HorizontalLayout.deSerialize(node, serializedChild);\r\n        case UIType.Image: return Image.deSerialize(node, serializedChild);\r\n        case UIType.Input: return Input.deSerialize(node, serializedChild);\r\n        case UIType.Label: return Label.deSerialize(node, serializedChild);\r\n        case UIType.Select: return Select.deSerialize(node, serializedChild);\r\n        case UIType.Slider: return Slider.deSerialize(node, serializedChild);\r\n        case UIType.Source: return Source.deSerialize(node, serializedChild);\r\n        case UIType.Toggle: return Toggle.deSerialize(node, serializedChild);\r\n        default: return;\r\n      }\r\n    }));\r\n    return hozLayout;\r\n  }\r\n}\r\n","import { Color } from \"../core/color\";\r\nimport { ImageStyle, Serializable, SerializedImage } from \"../core/interfaces\";\r\nimport { Node } from \"../core/node\";\r\nimport { Constant, UIType } from \"../math/constants\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Logger } from \"../utils/logger\";\r\nimport { UINode } from \"./ui-node\";\r\n\r\nexport class Image extends UINode implements Serializable {\r\n  imageCanvas: OffscreenCanvas | HTMLCanvasElement;\r\n  source: HTMLImageElement;\r\n  ratio: number;\r\n\r\n  constructor(\r\n    node: Node,\r\n    public sourceString: string,\r\n    propName?: string,\r\n    style: ImageStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Image, false, { ...Constant.DefaultImageStyle(), ...style }, propName, null, null, id, hitColor);\r\n    this.source = document.createElement('img');\r\n\r\n    this.source.onload = () => {\r\n      if (typeof OffscreenCanvas !== 'undefined') this.imageCanvas = new OffscreenCanvas(this.source.width, this.source.height);\r\n      else {\r\n        this.imageCanvas = document.createElement('canvas');\r\n        this.imageCanvas.width = this.source.width;\r\n        this.imageCanvas.height = this.source.height;\r\n      }\r\n\r\n      let imageContext = this.imageCanvas.getContext('2d');\r\n      imageContext.drawImage(this.source, 0, 0);\r\n\r\n      this.ratio = this.source.width / this.source.height;\r\n      this.reflow();\r\n      this.node.ui.update();\r\n    };\r\n    this.source.onerror = (error) => Logger.error(error);\r\n    this.source.src = sourceString;\r\n  }\r\n\r\n  paint(): void {\r\n    if (this.imageCanvas) {\r\n      let x = this.position.x;\r\n      if (this.source.width < this.node.ui.contentWidth) {\r\n        if (this.style.align === 'center') x += this.node.ui.contentWidth / 2 - this.source.width / 2;\r\n        else if (this.style.align === 'right') x += + (this.node.ui.contentWidth - this.source.width);\r\n      }\r\n      this.context.drawImage(\r\n        this.imageCanvas, 0, 0, this.source.width, this.source.height,\r\n        x, this.position.y, this.width, this.height\r\n      );\r\n    }\r\n  }\r\n  paintLOD1() {\r\n    if (this.imageCanvas) {\r\n      let x = this.position.x;\r\n      if (this.source.width < this.node.ui.contentWidth) {\r\n        if (this.style.align === 'center') x += this.node.ui.contentWidth / 2 - this.source.width / 2;\r\n        else if (this.style.align === 'right') x += + (this.node.ui.contentWidth - this.source.width);\r\n      }\r\n      this.context.fillStyle = 'lightgrey';\r\n      this.context.strokeStyle = '#000';\r\n      this.context.fillRect(x, this.position.y, this.width, this.height);\r\n      this.context.strokeRect(x, this.position.y, this.width, this.height)\r\n    }\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n\r\n    let x = this.position.x;\r\n    if (this.source.width < this.node.ui.contentWidth) {\r\n      if (this.style.align === 'center') x += this.node.ui.contentWidth / 2 - this.source.width / 2;\r\n      else if (this.style.align === 'right') x += + (this.node.ui.contentWidth - this.source.width);\r\n    }\r\n    this.offUIContext.fillRect(x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    if (!this.source.width || !this.source.height) return;\r\n\r\n    if (this.source.width > this.width) {\r\n      this.height = this.width / this.ratio;\r\n    } else {\r\n      this.width = this.source.width;\r\n      this.height = this.source.height;\r\n    }\r\n  }\r\n\r\n  onPropChange() { }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void { }\r\n\r\n  serialize(): SerializedImage {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      source: this.sourceString,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedImage): Image {\r\n    return new Image(node, data.source, data.propName, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","export * from './ui-node';\r\nexport * from './container';\r\nexport * from './label';\r\nexport * from './image';\r\nexport * from './slider';\r\nexport * from './horizontal-layout';\r\nexport * from './button';\r\nexport * from './toggle';\r\nexport * from './select';\r\nexport * from './source';\r\nexport * from './display';\r\nexport * from './input';","import { Vector2 } from \"../math/vector\";\r\nimport { UINode } from \"./ui-node\";\r\nimport { Node } from '../core/node';\r\nimport { Label } from './label';\r\nimport { Terminal } from \"../core/terminal\";\r\nimport { Constant, InputType, TerminalType, UIType } from \"../math/constants\";\r\nimport { InputStyle, Serializable, SerializedInput, SerializedTerminal } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Input extends UINode implements Serializable {\r\n  label: Label;\r\n  inputEl: HTMLInputElement;\r\n  _value: string | number;\r\n\r\n  get value(): string | number {\r\n    if (this.propName) return this.node.props[this.propName];\r\n    return this._value;\r\n  }\r\n  set value(value: string | number) {\r\n    let val: string | number;\r\n    if (this.style.type === InputType.Number && typeof value === 'string') val = parseInt(value);\r\n    else val = value;\r\n\r\n    if (this.propName) this.node.props[this.propName] = val;\r\n    else {\r\n      this._value = val;\r\n      this.label.text = this._value.toString();\r\n      this.inputEl.value = this._value.toString();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    value: string | number,\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: InputStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Input, false, { ...Constant.DefaultInputStyle(), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, style.type === InputType.Text ? 'string' : 'number', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, style.type === InputType.Text ? 'string' : 'number', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n    this.height = height ? height : this.node.style.rowHeight;\r\n\r\n    if (this.style.type === InputType.Number && typeof value === 'string') value = parseInt(value);\r\n    this._value = value;\r\n\r\n    this.label = new Label(this.node, this.value.toString(), null, false, false, {\r\n      fontSize: this.style.fontSize,\r\n      font: this.style.font,\r\n      align: this.style.align,\r\n      color: this.style.color\r\n    }, this.height);\r\n    this.label.on('click', () => {\r\n      if (document.activeElement !== this.inputEl) {\r\n        this.inputEl.style.visibility = 'visible';\r\n        this.inputEl.style.pointerEvents = 'all';\r\n\r\n        let realPosition = this.position.transform(this.node.flow.flowConnect.transform);\r\n        this.inputEl.style.top = (realPosition.y + this.node.flow.flowConnect.canvasDimensions.top + 1) + 'px';\r\n        this.inputEl.style.left = (realPosition.x + this.node.flow.flowConnect.canvasDimensions.left + 1) + 'px';\r\n        this.inputEl.style.width = (this.width - 1) * this.node.flow.flowConnect.scale + 'px';\r\n        this.inputEl.style.height = (this.height - 1) * this.node.flow.flowConnect.scale + 'px';\r\n        this.inputEl.style.fontFamily = this.style.font;\r\n        this.inputEl.style.fontSize = parseInt(this.style.fontSize.replace('px', '')) * this.node.flow.flowConnect.scale + 'px';\r\n        this.inputEl.style.color = this.style.color;\r\n        this.inputEl.style.backgroundColor = this.style.backgroundColor;\r\n        this.inputEl.style.textAlign = this.style.align;\r\n        this.inputEl.focus();\r\n      }\r\n    });\r\n    this.children.push(this.label);\r\n\r\n    this.inputEl = document.createElement('input');\r\n    this.inputEl.className = 'flow-connect-input';\r\n    this.inputEl.spellcheck = false;\r\n    this.inputEl.type = this.style.type;\r\n    this.inputEl.value = this.value.toString();\r\n    this.inputEl.onblur = () => {\r\n      this.inputEl.style.visibility = 'hidden';\r\n      this.inputEl.style.pointerEvents = 'none';\r\n    };\r\n    this.inputEl.onchange = (event: any) => {\r\n      this.value = event.target.value;\r\n      this.label.text = this.value.toString();\r\n    }\r\n    document.body.appendChild(this.inputEl);\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.value = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (data) this.value = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.value);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.strokeStyle = this.style.border;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = this.style.border;\r\n    this.context.fillStyle = this.style.backgroundColor;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.label.position = this.position;\r\n    this.label.height = this.height;\r\n    this.label.width = this.width;\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    let val: string | number;\r\n    if (this.style.type === InputType.Number && typeof newValue === 'string') val = parseInt(newValue);\r\n    else val = newValue;\r\n\r\n    this._value = val;\r\n    this.label.text = this._value.toString();\r\n    this.inputEl.value = this._value.toString();\r\n\r\n    this.output && (this.output as any)['setData'](this.value);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedInput {\r\n    return {\r\n      id: this.id,\r\n      hitColor: this.hitColor.serialize(),\r\n      type: this.type,\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      value: this.value,\r\n      height: this.height,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedInput): Input {\r\n    return new Input(node, data.value, data.propName, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Terminal } from \"../core/terminal\";\r\nimport { Node } from \"../core/node\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Constant, TerminalType, UIType } from '../math/constants';\r\nimport { UINode } from \"./ui-node\";\r\nimport { LabelStyle, Serializable, SerializedLabel, SerializedTerminal } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Label extends UINode implements Serializable {\r\n  displayText: string;\r\n  _text: string;\r\n  textWidth: number;\r\n  textHeight: number;\r\n\r\n  get text(): string {\r\n    if (this.propName) return this.node.props[this.propName];\r\n    return this._text;\r\n  }\r\n  set text(text: string) {\r\n    if (this.propName) {\r\n      this.node.props[this.propName] = text;\r\n    } else {\r\n      this._text = text;\r\n      this.displayText = this._text;\r\n      this.reflow();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    text: string = '',\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    style: LabelStyle = {},\r\n    height?: number,\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Label, false, { ...Constant.DefaultLabelStyle(), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'string', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'string', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n\r\n    this._text = this.propName ? this.node.props[this.propName] : text;\r\n    this.displayText = this._text;\r\n    this.reflow();\r\n\r\n    if (!height) this.height = this.textHeight;\r\n    else this.height = height;\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.text = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (data) this.text = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.text);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.fillStyle = this.style.color;\r\n    this.context.font = this.style.fontSize + ' ' + this.style.font;\r\n    this.context.textBaseline = 'top';\r\n    let y = this.position.y + this.height / 2 - this.textHeight / 2;\r\n    let x = this.position.x;\r\n    if (this.style.align === 'left') {\r\n      x += 5;\r\n    } else if (this.style.align === 'center') {\r\n      x += this.width / 2 - this.textWidth / 2;\r\n    } else if (this.style.align === 'right') {\r\n      x += this.width - this.textWidth - 5;\r\n    }\r\n    this.context.fillText(this.displayText, x, y);\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = '#000';\r\n    this.context.fillStyle = this.style.color;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.context.font = this.style.fontSize + ' ' + this.style.font;\r\n    let metrics = this.context.measureText(this.displayText);\r\n    this.context.font = null;\r\n    this.textWidth = metrics.width;\r\n\r\n    this.textHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n    if (typeof this.textHeight === 'undefined') {\r\n      let d = document.createElement(\"span\");\r\n      d.style.font = this.style.fontSize + ' ' + this.style.font;\r\n      d.textContent = \"M\";\r\n      document.body.appendChild(d);\r\n      this.textHeight = d.offsetHeight;\r\n      document.body.removeChild(d);\r\n    }\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    this._text = newValue;\r\n    this.displayText = this._text;\r\n    this.reflow();\r\n\r\n    this.output && (this.output as any)['setData'](this.text);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedLabel {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      height: this.height,\r\n      text: this.text,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedLabel): Label {\r\n    return new Label(node, data.text, data.propName, data.input, data.output, data.style, data.height, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Terminal } from \"../core/terminal\";\r\nimport { Node } from \"../core/node\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { Label } from \"./label\";\r\nimport { UINode } from \"./ui-node\";\r\nimport { Constant, TerminalType, UIType } from \"../math/constants\";\r\nimport { SelectStyle, Serializable, SerializedSelect, SerializedTerminal } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Select extends UINode implements Serializable {\r\n  label: Label;\r\n  _selected: string;\r\n\r\n  get selected(): string {\r\n    if (this.propName) {\r\n      let value = this.node.props[this.propName];\r\n      value = this.options.length === 0 ? 'None' : (this.options.includes(value) ? value : this.options[0]);\r\n      return value;\r\n    }\r\n    return this._selected;\r\n  }\r\n  set selected(selected: string) {\r\n    let value = this.options.length === 0 ? 'None' : (this.options.includes(selected) ? selected : this.options[0]);\r\n    if (this.propName) this.node.props[this.propName] = value;\r\n    else {\r\n      this._selected = value;\r\n      this.label.text = this.selected;\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    public options: string[] = [],\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: SelectStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Select, false, { ...Constant.DefaultSelectStyle(), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'string', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'string', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n    this.height = height ? height : this.node.style.rowHeight;\r\n    this._selected = this.options.length === 0 ? 'None' : this.options[0];\r\n    this.label = new Label(this.node, this.selected, null, false, false, { align: 'center', ...this.style }, this.height);\r\n    this.children.push(this.label);\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.selected = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (data) this.selected = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.selected);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.fillStyle = this.style.arrowColor;\r\n    this.context.beginPath();\r\n    this.context.moveTo(this.position.x, this.position.y + this.height / 2);\r\n    this.context.lineTo(this.position.x + this.width * .15, this.position.y + this.height * .15);\r\n    this.context.lineTo(this.position.x + this.width * .15, this.position.y + this.height * .85);\r\n    this.context.lineTo(this.position.x, this.position.y + this.height / 2);\r\n    this.context.closePath();\r\n    this.context.fill();\r\n\r\n    this.context.fillStyle = this.style.arrowColor;\r\n    this.context.beginPath();\r\n    this.context.moveTo(this.position.x + this.width, this.position.y + this.height / 2);\r\n    this.context.lineTo(this.position.x + this.width * .85, this.position.y + this.height * .15);\r\n    this.context.lineTo(this.position.x + this.width * .85, this.position.y + this.height * .85);\r\n    this.context.lineTo(this.position.x + this.width, this.position.y + this.height / 2);\r\n    this.context.closePath();\r\n    this.context.fill();\r\n  }\r\n  paintLOD1() {\r\n    this.context.fillStyle = this.style.arrowColor;\r\n    this.context.strokeStyle = '#000';\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.label.width = this.width * .7;\r\n    this.label.position.x = this.position.x + this.width * .15;\r\n    this.label.position.y = this.position.y + this.height / 2 - this.label.height / 2;\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    let value = this.options.length === 0 ? 'None' : (this.options.includes(newValue) ? newValue : this.options[0]);\r\n    this._selected = value;\r\n    this.label.text = this.selected;\r\n\r\n    this.output && (this.output as any)['setData'](this.selected);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n\r\n    if (this.options.length === 0) return;\r\n    let direction;\r\n    if (realPosition.x < this.position.x + this.width * .15) {\r\n      direction = -1;\r\n    } else if (realPosition.x > this.position.x + this.width * .85) {\r\n      direction = 1;\r\n    } else return;\r\n    this.selected = this.options[(((this.options.indexOf(this.selected) + direction) % this.options.length) + this.options.length) % this.options.length];\r\n    this.label.text = this.selected;\r\n\r\n    this.call('change', this, this.selected);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedSelect {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      options: this.options,\r\n      height: this.height,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedSelect): Select {\r\n    return new Select(node, data.options, data.propName, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Terminal } from \"../core/terminal\";\r\nimport { Node } from \"../core/node\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { clamp, denormalize, normalize } from \"../utils/utils\";\r\nimport { UINode } from \"./ui-node\";\r\nimport { Constant, TerminalType, UIType } from \"../math/constants\";\r\nimport { Serializable, SerializedSlider, SerializedTerminal, SliderStyle } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Slider extends UINode implements Serializable {\r\n  thumbFill: number;\r\n  _value: number;\r\n\r\n  get value(): number {\r\n    if (this.propName) return this.node.props[this.propName];\r\n    return this._value;\r\n  }\r\n  set value(value: number) {\r\n    value = clamp(value, this.min, this.max);\r\n    if (this.propName) this.node.props[this.propName] = value;\r\n    else {\r\n      this._value = value;\r\n      this.call('change', this, this.value);\r\n      this.reflow();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    public min: number, public max: number,\r\n    value: number,\r\n    public precision: number = 0,\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: SliderStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Slider, true, { ...Constant.DefaultSliderStyle(height), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'number', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'number', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n\r\n    this.height = height ? height : this.node.style.rowHeight;\r\n    this.value = parseFloat(value.toFixed(this.precision));\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.value = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (data) this.value = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.value);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.lineWidth = this.style.railHeight;\r\n    this.context.strokeStyle = this.style.color;\r\n    this.context.lineCap = 'butt';\r\n\r\n    let start = Math.max(this.position.x, this.position.x + this.thumbFill - 3);\r\n    if (start !== this.position.x) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(this.position.x, this.position.y + this.height / 2);\r\n      this.context.lineTo(start, this.position.y + this.height / 2);\r\n      this.context.stroke();\r\n    }\r\n    start = Math.min(this.position.x + 2 * this.style.thumbRadius + this.thumbFill + 3, this.position.x + this.width);\r\n    if (start !== (this.position.x + this.width)) {\r\n      this.context.beginPath();\r\n      this.context.moveTo(start, this.position.y + this.height / 2);\r\n      this.context.lineTo(this.position.x + this.width, this.position.y + this.height / 2);\r\n      this.context.stroke();\r\n    }\r\n\r\n    this.context.fillStyle = this.style.thumbColor;\r\n    this.context.beginPath();\r\n    this.context.arc(this.position.x + this.style.thumbRadius + this.thumbFill, this.position.y + this.height / 2, this.style.thumbRadius, 0, 2 * Math.PI);\r\n    this.context.fill();\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = '#000';\r\n    this.context.fillStyle = this.style.color;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.thumbFill = denormalize(normalize(this.value, this.min, this.max), 0, this.width - 2 * this.style.thumbRadius);\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    this._value = newValue;\r\n    this.reflow();\r\n    this.call('change', this, this.value);\r\n\r\n    this.output && (this.output as any)['setData'](this.value);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n\r\n    let y = this.position.y + this.height / 2 - this.style.railHeight / 2;\r\n    this.thumbFill = realPosition.clamp(this.position.x + this.style.thumbRadius, this.position.x + this.width - this.style.thumbRadius, y, y).subtract(this.position.x + this.style.thumbRadius, 0).x;\r\n    this.value = parseFloat(denormalize(normalize(this.thumbFill, 0, this.width - 2 * this.style.thumbRadius), this.min, this.max).toFixed(this.precision));\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedSlider {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      min: this.min,\r\n      max: this.max,\r\n      value: this.value,\r\n      precision: this.precision,\r\n      height: this.height,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedSlider) {\r\n    return new Slider(node, data.min, data.max, data.value, data.precision, data.propName, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Terminal } from \"../core/terminal\";\r\nimport { Node } from \"../core/node\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { fileIcon } from \"../resource/icons\";\r\nimport { Image } from \"./image\";\r\nimport { Label } from \"./label\";\r\nimport { UINode } from \"./ui-node\";\r\nimport { Constant, TerminalType, UIType } from \"../math/constants\";\r\nimport { Serializable, SerializedSource, SerializedTerminal, SourceStyle } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Source extends UINode implements Serializable {\r\n  label: Label;\r\n  htmlInput: HTMLInputElement;\r\n  fileIcon: Image;\r\n  _file: File;\r\n\r\n  get file(): File {\r\n    if (this.propName) return this.node.props[this.propName];\r\n    return this._file;\r\n  }\r\n  set file(file: File) {\r\n    if (this.propName) this.node.props[this.propName] = file;\r\n    else {\r\n      this._file = file;\r\n      this.label.text = this._file.name.substring(0, this._file.name.toString().lastIndexOf(\".\"));\r\n      this.call('change', this, this._file);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    public accept?: string,\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: SourceStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Source, false, { ...Constant.DefaultSourceStyle(), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'file', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'file', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n\r\n    this.height = height ? height : this.node.style.rowHeight;\r\n\r\n    this.htmlInput = document.createElement('input');\r\n    this.htmlInput.type = 'file';\r\n    (accept) && (this.htmlInput.accept = accept);\r\n    this.htmlInput.onchange = () => {\r\n      if (this.htmlInput.files.length > 0) {\r\n        this.file = this.htmlInput.files[0];\r\n      }\r\n    };\r\n\r\n    this.label = new Label(this.node, 'Select', null, false, false, { align: 'center', ...this.style }, this.height);\r\n    this.label.on('click', () => this.htmlInput.click());\r\n\r\n    this.fileIcon = new Image(this.node, fileIcon);\r\n    this.children.push(this.label, this.fileIcon);\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.file = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (data) this.file = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.file);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = this.style.borderColor;\r\n    this.context.fillStyle = this.style.color;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    this.label.width = this.width;\r\n    this.label.height = this.height;\r\n    this.label.position = this.position;\r\n\r\n    this.fileIcon.width = this.width * .1;\r\n    this.fileIcon.position.x = this.position.x + 5;\r\n    this.fileIcon.position.y = this.position.y + this.height / 2 - this.fileIcon.height / 2;\r\n\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    this._file = newValue;\r\n    this.label.text = this._file.name.substring(0, this._file.name.toString().lastIndexOf(\".\"));\r\n    this.call('change', this, this._file);\r\n\r\n    this.output && (this.output as any)['setData'](this._file);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedSource {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      accept: this.accept,\r\n      height: this.height,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedSource) {\r\n    return new Source(node, data.accept, data.propName, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}\r\n","import { Terminal } from \"../core/terminal\";\r\nimport { Node } from \"../core/node\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { UINode } from \"./ui-node\";\r\nimport { Constant, TerminalType, UIType } from \"../math/constants\";\r\nimport { Serializable, SerializedTerminal, SerializedToggle, ToggleStyle } from \"../core/interfaces\";\r\nimport { Color } from \"../core/color\";\r\n\r\nexport class Toggle extends UINode implements Serializable {\r\n  _checked: boolean = false;\r\n\r\n  get checked(): boolean {\r\n    if (this.propName) return this.node.props[this.propName];\r\n    return this._checked;\r\n  }\r\n  set checked(checked: boolean) {\r\n    if (this.propName) this.node.props[this.propName] = checked;\r\n    else {\r\n      this._checked = checked;\r\n      this.call('change', this, this.checked);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    node: Node,\r\n    propName?: string,\r\n    input?: boolean | SerializedTerminal,\r\n    output?: boolean | SerializedTerminal,\r\n    height?: number,\r\n    style: ToggleStyle = {},\r\n    id?: string,\r\n    hitColor?: Color\r\n  ) {\r\n\r\n    super(node, Vector2.Zero(), UIType.Toggle, false, { ...Constant.DefaultToggleStyle(), ...style }, propName,\r\n      input ?\r\n        (typeof input === 'boolean' ?\r\n          new Terminal(node, TerminalType.IN, 'boolean', '', {}) :\r\n          Terminal.deSerialize(node, input)\r\n        ) :\r\n        null,\r\n      output ?\r\n        (typeof output === 'boolean' ?\r\n          new Terminal(node, TerminalType.OUT, 'boolean', '', {}) :\r\n          Terminal.deSerialize(node, output)\r\n        ) :\r\n        null,\r\n      id, hitColor\r\n    );\r\n\r\n    this._checked = this.propName ? this.node.props[this.propName] : false;\r\n    this.height = height ? height : this.node.style.rowHeight;\r\n\r\n    if (this.input) {\r\n      this.input.on('connect', (terminal, connector) => {\r\n        if (connector.data) this.checked = connector.data;\r\n      });\r\n      this.input.on('data', data => {\r\n        if (typeof data !== 'undefined') this.checked = data;\r\n      });\r\n    }\r\n    if (this.output) this.output.on('connect', (terminal, connector) => connector.data = this.checked);\r\n  }\r\n\r\n  paint(): void {\r\n    this.context.strokeStyle = this.style.backgroundColor;\r\n    this.context.lineWidth = this.height * .75;\r\n    this.context.lineCap = 'round';\r\n    this.context.beginPath();\r\n    this.context.moveTo(this.position.x + this.context.lineWidth / 2, this.position.y + this.height / 2);\r\n    this.context.lineTo(this.position.x + this.width - this.context.lineWidth / 2, this.position.y + this.height / 2);\r\n    this.context.stroke();\r\n\r\n    this.context.fillStyle = this.style.color;\r\n    this.context.beginPath();\r\n    this.context.arc(this.checked ? this.position.x + this.width - this.height / 2 : this.position.x + this.height / 2, this.position.y + this.height / 2, this.height / 2, 0, 2 * Math.PI);\r\n    this.context.fill();\r\n  }\r\n  paintLOD1() {\r\n    this.context.strokeStyle = this.style.color;\r\n    this.context.fillStyle = this.style.backgroundColor;\r\n    this.context.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    this.context.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  offPaint(): void {\r\n    this.offUIContext.fillStyle = this.hitColor.hexValue;\r\n    this.offUIContext.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  reflow(): void {\r\n    if (this.input) {\r\n      this.input.position.x = this.node.position.x - this.node.style.terminalStripMargin - this.input.style.radius;\r\n      this.input.position.y = this.position.y + this.height / 2;\r\n    }\r\n    if (this.output) {\r\n      this.output.position.x = this.node.position.x + this.node.width + this.node.style.terminalStripMargin + this.output.style.radius;\r\n      this.output.position.y = this.position.y + this.height / 2;\r\n    }\r\n  }\r\n\r\n  onPropChange(oldValue: any, newValue: any) {\r\n    this._checked = newValue;\r\n    this.call('change', this, this.checked);\r\n\r\n    this.output && (this.output as any)['setData'](this.checked);\r\n  }\r\n\r\n  onOver(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('over', this, screenPosition, realPosition);\r\n  }\r\n  onDown(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('down', this, screenPosition, realPosition);\r\n  }\r\n  onUp(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('up', this, screenPosition, realPosition);\r\n  }\r\n  onClick(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('click', this, screenPosition, realPosition);\r\n\r\n    this.checked = !this.checked;\r\n  }\r\n  onDrag(screenPosition: Vector2, realPosition: Vector2): void {\r\n    if (this.disabled) return;\r\n\r\n    this.call('drag', this, screenPosition, realPosition);\r\n  }\r\n  onEnter(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('enter', this, screenPosition, realPosition);\r\n  }\r\n  onExit(screenPosition: Vector2, realPosition: Vector2) {\r\n    if (this.disabled) return;\r\n\r\n    this.call('exit', this, screenPosition, realPosition);\r\n  }\r\n  onContextMenu(): void {\r\n    if (this.disabled) return;\r\n  }\r\n\r\n  serialize(): SerializedToggle {\r\n    return {\r\n      id: this.id,\r\n      type: this.type,\r\n      hitColor: this.hitColor.serialize(),\r\n      style: this.style,\r\n      propName: this.propName,\r\n      input: this.input ? this.input.serialize() : null,\r\n      output: this.output ? this.output.serialize() : null,\r\n      checked: this.checked,\r\n      height: this.height,\r\n      childs: []\r\n    }\r\n  }\r\n  static deSerialize(node: Node, data: SerializedToggle): Toggle {\r\n    return new Toggle(node, data.propName, data.input, data.output, data.height, data.style, data.id, Color.deSerialize(data.hitColor));\r\n  }\r\n}","import { Color } from \"../core/color\";\r\nimport { Hooks } from \"../core/hooks\";\r\nimport { Node } from \"../core/node\";\r\nimport { Terminal } from \"../core/terminal\";\r\nimport { Vector2 } from \"../math/vector\";\r\nimport { LOD, NodeState, UIType, ViewPort } from '../math/constants';\r\nimport { getNewGUID, intersects } from \"../utils/utils\";\r\nimport { Events } from \"../core/interfaces\";\r\n\r\nexport abstract class UINode extends Hooks implements Events {\r\n  draggable: boolean;\r\n  width: number = 0;\r\n  height: number = 0;\r\n  children: UINode[];\r\n  context: CanvasRenderingContext2D;\r\n  offUIContext: OffscreenCanvasRenderingContext2D | CanvasRenderingContext2D;\r\n  position: Vector2;\r\n  renderState: ViewPort;\r\n  _disabled: boolean;\r\n\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n  set disabled(disabled: boolean) {\r\n    this._disabled = disabled;\r\n    this.children.forEach(child => child.disabled = disabled);\r\n  }\r\n\r\n  constructor(\r\n    public node: Node,\r\n    position: Vector2,\r\n    public type: UIType,\r\n    draggable: boolean,\r\n    public style: any,\r\n    public propName?: string,\r\n    public input: Terminal = null, public output: Terminal = null,\r\n    public id: string = getNewGUID(),\r\n    public hitColor?: Color\r\n  ) {\r\n\r\n    super();\r\n    this.id = getNewGUID();\r\n    this.context = this.node.context;\r\n    this.offUIContext = this.node.offUIContext;\r\n    this.setHitColor(hitColor);\r\n    this.position = position;\r\n    this.children = [];\r\n    this.draggable = draggable;\r\n    this.disabled = false;\r\n    if (this.propName) this.node.addPropObserver(this.propName, this.onPropChange.bind(this));\r\n\r\n    if (input) {\r\n      this.node.inputsUI.push(this.input);\r\n      this.input.on('connect', () => this.disabled = true);\r\n      this.input.on('disconnect', () => this.disabled = false);\r\n    }\r\n    if (output) this.node.outputsUI.push(this.output);\r\n  }\r\n\r\n  append(childs: UINode | UINode[]) {\r\n    if (Array.isArray(childs)) {\r\n      this.children.push(...childs);\r\n    } else {\r\n      this.children.push(childs);\r\n    }\r\n    this.update();\r\n  }\r\n  update(): void {\r\n    this.reflow();\r\n    this.children.forEach(child => child.update());\r\n  }\r\n  updateRenderState() {\r\n    if (this.node.renderState.nodeState === NodeState.MINIMIZED) return;\r\n\r\n    let realPos = this.position.transform(this.node.flow.flowConnect.transform);\r\n    this.renderState = intersects(\r\n      0, 0,\r\n      this.node.flow.flowConnect.canvasDimensions.width, this.node.flow.flowConnect.canvasDimensions.height,\r\n      realPos.x, realPos.y,\r\n      realPos.x + this.width * this.node.flow.flowConnect.scale,\r\n      realPos.y + this.height * this.node.flow.flowConnect.scale\r\n    );\r\n\r\n    this.children.forEach(child => child.updateRenderState());\r\n  }\r\n  setHitColor(hitColor: Color) {\r\n    //if (typeof this.hitColor !== 'undefined') return;\r\n\r\n    if (!hitColor) {\r\n      hitColor = Color.Random();\r\n      while (this.node.hitColorToUI[hitColor.rgbaString] || this.node.hitColorToTerminal[hitColor.rgbaString]) hitColor = Color.Random();\r\n    }\r\n    this.hitColor = hitColor;\r\n    this.node.hitColorToUI[this.hitColor.rgbaString] = this;\r\n  }\r\n  render() {\r\n    if (this.renderState === ViewPort.OUTSIDE) return;\r\n\r\n    if (this.node.renderState.lod === LOD.LOD1) {\r\n      this.context.save();\r\n      this.paintLOD1();\r\n      this.context.restore();\r\n    } else if (this.node.renderState.lod === LOD.LOD2) {\r\n      this.context.save();\r\n      this.paint();\r\n      this.context.restore();\r\n\r\n      this.offUIContext.save();\r\n      this.offPaint();\r\n      this.offUIContext.restore();\r\n    } else {\r\n      if (this.type === UIType.Container) {\r\n        this.context.save();\r\n        this.paintLOD1();\r\n        this.context.restore();\r\n      }\r\n    }\r\n\r\n    if (this.node.renderState.lod > 0) {\r\n      if (this.input) this.input.render();\r\n      if (this.output) this.output.render();\r\n    }\r\n\r\n    this.children.forEach(child => child.render());\r\n  }\r\n\r\n  abstract reflow(): void;\r\n  abstract paint(): void;\r\n  abstract paintLOD1(): void;\r\n  abstract offPaint(): void;\r\n\r\n  abstract onOver(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onDown(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onUp(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onClick(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onDrag(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onEnter(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onExit(screenPosition: Vector2, realPosition: Vector2): void;\r\n  abstract onContextMenu(): void;\r\n\r\n  abstract onPropChange(oldValue: any, newValue: any): void;\r\n}\r\n","export class BinarySearchTree<T> {\r\n  root: BinaryTreeNode<T>;\r\n  action: (item: T) => void;\r\n  dataRefToTreeNode: { [key: string]: BinaryTreeNode<T> };\r\n\r\n  constructor(public comparator: (a: T, b: T) => Number, public dataToTreeNodeMapper: (data: T) => string) {\r\n    this.root = null;\r\n    this.dataRefToTreeNode = {};\r\n  }\r\n\r\n  add(data: T) {\r\n    let newNode = new BinaryTreeNode(data);\r\n    this.dataRefToTreeNode[this.dataToTreeNodeMapper(data)] = newNode;\r\n\r\n    if (this.root === null) this.root = newNode;\r\n    else this._insert(this.root, newNode);\r\n  }\r\n  private _insert(root: BinaryTreeNode<T>, newNode: BinaryTreeNode<T>) {\r\n    if (this.comparator(newNode.data, root.data) < 0) {\r\n      if (root.left === null) {\r\n        root.left = newNode;\r\n        newNode.parent = root;\r\n      } else this._insert(root.left, newNode);\r\n    } else {\r\n      if (root.right === null) {\r\n        root.right = newNode;\r\n        newNode.parent = root;\r\n      } else this._insert(root.right, newNode);\r\n    }\r\n  }\r\n\r\n  remove(dataRef: T): boolean {\r\n    let treeNode = this.dataRefToTreeNode[this.dataToTreeNodeMapper(dataRef)];\r\n    if (!treeNode) return false;\r\n    delete this.dataRefToTreeNode[this.dataToTreeNodeMapper(dataRef)];\r\n\r\n    if (treeNode.parent) {\r\n      if (treeNode.parent.left === treeNode) {\r\n        if (treeNode.left === null && treeNode.right === null) {\r\n          treeNode.parent.left = null;\r\n          return true;\r\n        }\r\n\r\n        if (treeNode.left === null) {\r\n          treeNode.right.parent = treeNode.parent;\r\n          treeNode.parent.left = treeNode.right;\r\n          return true;\r\n        } else if (treeNode.right === null) {\r\n          treeNode.left.parent = treeNode.parent;\r\n          treeNode.parent.left = treeNode.left;\r\n          return true;\r\n        }\r\n\r\n        this._deleteMinNode(treeNode);\r\n      } else {\r\n        if (treeNode.left === null && treeNode.right === null) {\r\n          treeNode.parent.right = null;\r\n          return true;\r\n        }\r\n\r\n        if (treeNode.left === null) {\r\n          treeNode.right.parent = treeNode.parent;\r\n          treeNode.parent.right = treeNode.right;\r\n          return true;\r\n        } else if (treeNode.right === null) {\r\n          treeNode.left.parent = treeNode.parent;\r\n          treeNode.parent.right = treeNode.left;\r\n          return true;\r\n        }\r\n\r\n        this._deleteMinNode(treeNode);\r\n      }\r\n    } else {\r\n      if (treeNode.left === null && treeNode.right === null) {\r\n        this.root = null;\r\n        return true;\r\n      }\r\n\r\n      if (treeNode.left === null) {\r\n        treeNode.right.parent = treeNode.parent;\r\n        this.root = treeNode.right;\r\n        return true;\r\n      } else if (treeNode.right === null) {\r\n        treeNode.left.parent = treeNode.parent;\r\n        this.root = treeNode.left;\r\n        return true;\r\n      }\r\n\r\n      this._deleteMinNode(treeNode);\r\n    }\r\n  }\r\n\r\n  private _deleteMinNode(node: BinaryTreeNode<T>) {\r\n    let min = this.findMinNode(node.right);\r\n    node.data = min.data;\r\n    if (min.parent.left === min) {\r\n      min.parent.left = null;\r\n    } else {\r\n      min.parent.right = null;\r\n    }\r\n  }\r\n\r\n  findMinNode(node: BinaryTreeNode<T>): BinaryTreeNode<T> {\r\n    if (node.left === null) return node;\r\n    else return this.findMinNode(node.left);\r\n  }\r\n\r\n  forEach(action: (item: T) => void) {\r\n    this.action = action;\r\n    this._inorder(this.root);\r\n  }\r\n\r\n  private _inorder(node: BinaryTreeNode<T>) {\r\n    if (node !== null) {\r\n      this._inorder(node.left);\r\n      this.action(node.data);\r\n      this._inorder(node.right);\r\n    }\r\n  }\r\n  private _reverseInorder(node: BinaryTreeNode<T>) {\r\n    if (node !== null) {\r\n      this._inorder(node.right);\r\n      this.action(node.data);\r\n      this._inorder(node.left);\r\n    }\r\n  }\r\n}\r\n\r\nexport class BinaryTreeNode<T> {\r\n  left: BinaryTreeNode<T>;\r\n  right: BinaryTreeNode<T>;\r\n  parent: BinaryTreeNode<T>;\r\n\r\n  constructor(public data: T) {\r\n    this.left = null;\r\n    this.right = null;\r\n    this.parent = null;\r\n  }\r\n}","export * from './binary-search-tree';\r\nexport * from './utils';\r\nexport * from './logger';","export enum LogLevel {\r\n  TRACE = 'Trace', INFO = 'Info', WARN = 'Warn', ERROR = 'Error', DISABLED = 'Disabled'\r\n}\r\n\r\nexport class Logger {\r\n  static LOG_LEVEL: LogLevel = LogLevel.DISABLED;\r\n\r\n  static log(...args: any): void {\r\n    if (this.LOG_LEVEL !== LogLevel.TRACE) return;\r\n    console.log.apply(this, args);\r\n  }\r\n  static info(...args: any): void {\r\n    if (this.LOG_LEVEL !== LogLevel.INFO) return;\r\n    console.info.apply(this, args);\r\n  }\r\n  static warn(...args: any): void {\r\n    if (this.LOG_LEVEL !== LogLevel.WARN) return;\r\n    console.warn.apply(this, args);\r\n  }\r\n  static error(...args: any): void {\r\n    if (this.LOG_LEVEL !== LogLevel.ERROR) return;\r\n    console.error.apply(this, args);\r\n  }\r\n}","import { ViewPort } from \"../math/constants\";\r\n\r\nexport const getNewGUID = () => {\r\n  var S4 = () => {\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n  };\r\n  return (S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4());\r\n};\r\nexport const normalize = (value: number, min: number, max: number) => {\r\n  return (value - min) / (max - min);\r\n};\r\nexport const denormalize = (normalized: number, min: number, max: number) => {\r\n  return (max - min) * normalized + min;\r\n};\r\nexport const getRandom = (min: number, max: number) => {\r\n  return Math.random() * max + min;\r\n};\r\nexport const intersects = (start1X: number, start1Y: number, end1X: number, end1Y: number, start2X: number, start2Y: number, end2X: number, end2Y: number): ViewPort => {\r\n  let intersects = !(start2X > end1X || end2X < start1X || start2Y > end1Y || end2Y < start1Y);\r\n  if (intersects) {\r\n    if (!(start2X < start1X || start2Y < start1Y || end2X > end1X || end2Y > end1Y)) return ViewPort.INSIDE;\r\n    else return ViewPort.INTERSECT;\r\n  } else return ViewPort.OUTSIDE;\r\n};\r\nexport const clamp = (value: number, min: number, max: number): number => {\r\n  return value <= min ? min : (value > max ? max : value);\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(184);\n"],"sourceRoot":""}